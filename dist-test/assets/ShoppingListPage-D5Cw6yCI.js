import{r as g,ak as So,al as jt,am as Co,g as zt,a as Pt,u as wt,j as e,c as nt,_ as We,b as Lt,s as ie,Z as we,an as Io,aj as Vt,P as ho,I as Ke,ao as jo,ap as $o,aq as Oo,d as mo,B as b,y as M,Q as ko,R as zo,ar as Po,af as oo,as as wo,ag as Gt,q as Ut,z as Lo,w as p,U as pe,V as so,O as qt,T as O,X as Pe,x as $t,F as H,D as ve,W as Ao,at as Bo,N as te,C as ut,E as Se,M as Fo,L as Ro,K as To,J as Wo,ah as Mo,S as Do,G as No,l as Ge,p as Eo,n as Ho,m as ro,k as Ot,o as no}from"./index-Pt9eeAw5.js";import{S as rt,L as Vo,a as Go}from"./ShoppingBag-DhjuKTXJ.js";import{c as io}from"./geminiService-CitDXh9M.js";import{C as Te,a as Ue}from"./CardContent-BZFM3eDd.js";import{A as Uo,f as ot,i as qe,o as ao,a as Kt,T as kt}from"./TextField-Bd8M3lci.js";import{a as _t}from"./useFormControl-C9_TrKMI.js";import{P as bo}from"./Popper-D7raedcu.js";import{C as se}from"./Chip-CLALgvl4.js";import{A as qo}from"./Add-DK51lv3o.js";import{G as Ko,S as _o,E as Qo,B as Yo,A as Jo,I as lo,L as Xo,F as Zo,C as es}from"./SetMeal-CWHMhhYo.js";import{C as ft}from"./Checkbox-CWv-Npii.js";import{D as gt}from"./Delete-Bd0QsbZt.js";import{D as ts}from"./Divider-DLGMI55O.js";import{C as os}from"./CheckCircle-BBohjW-1.js";function ss(t){const i=g.useRef({});return g.useEffect(()=>{i.current=t}),i.current}function co({array1:t,array2:i,parser:d=h=>h}){return t&&i&&t.length===i.length&&t.every((h,v)=>d(h)===d(i[v]))}function po(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function rs(t={}){const{ignoreAccents:i=!0,ignoreCase:d=!0,limit:h,matchFrom:v="any",stringify:A,trim:w=!1}=t;return(z,{inputValue:F,getOptionLabel:B})=>{let $=w?F.trim():F;d&&($=$.toLowerCase()),i&&($=po($));const V=$?z.filter(Q=>{let I=(A||B)(Q);return d&&(I=I.toLowerCase()),i&&(I=po(I)),v==="start"?I.startsWith($):I.includes($)}):z;return typeof h=="number"?V.slice(0,h):V}}const ns=rs(),uo=5,is=t=>t.current!==null&&t.current.parentElement?.contains(document.activeElement),as=[];function fo(t,i,d,h){if(i||t==null||h)return"";const v=d(t);return typeof v=="string"?v:""}function ls(t){const{unstable_isActiveElementInListbox:i=is,unstable_classNamePrefix:d="Mui",autoComplete:h=!1,autoHighlight:v=!1,autoSelect:A=!1,blurOnSelect:w=!1,clearOnBlur:z=!t.freeSolo,clearOnEscape:F=!1,componentName:B="useAutocomplete",defaultValue:$=t.multiple?as:null,disableClearable:V=!1,disableCloseOnSelect:Q=!1,disabled:I,disabledItemsFocusable:ae=!1,disableListWrap:le=!1,filterOptions:Y=ns,filterSelectedOptions:ue=!1,freeSolo:D=!1,getOptionDisabled:J,getOptionKey:ne,getOptionLabel:W=r=>r.label??r,groupBy:X,handleHomeEndKeys:Z=!t.freeSolo,id:k,includeInputInList:ce=!1,inputValue:G,isOptionEqualToValue:Ce=(r,s)=>r===s,multiple:S=!1,onChange:it,onClose:Qe,onHighlightChange:be,onInputChange:U,onOpen:Ye,open:xt,openOnFocus:Me=!1,options:fe,readOnly:de=!1,renderValue:N,selectOnFocus:De=!t.freeSolo,value:Ie}=t,q=So(k);let o=W;o=r=>{const s=W(r);return typeof s!="string"?String(s):s};const n=g.useRef(!1),l=g.useRef(!0),c=g.useRef(null),m=g.useRef(null),[R,ht]=g.useState(null),[re,Ne]=g.useState(-1),At=v?0:-1,ee=g.useRef(At),Jt=g.useRef(fo($??Ie,S,o)).current,[u,Bt]=_t({controlled:Ie,default:$,name:B}),[j,je]=_t({controlled:G,default:Jt,name:B,state:"inputValue"}),[Je,mt]=g.useState(!1),Xe=g.useCallback((r,s,a)=>{if(!(S?u.length<s.length:s!==null)&&!z)return;const x=fo(s,S,o,N);j!==x&&(je(x),U&&U(r,x,a))},[o,j,S,U,je,z,u,N]),[$e,Ee]=_t({controlled:xt,default:!1,name:B,state:"open"}),[Xt,Ze]=g.useState(!0),bt=!S&&u!=null&&j===o(u),oe=$e&&!de,L=oe?Y(fe.filter(r=>!(ue&&(S?u:[u]).some(s=>s!==null&&Ce(r,s)))),{inputValue:bt&&Xt?"":j,getOptionLabel:o}):[],ge=ss({filteredOptions:L,value:u,inputValue:j});g.useEffect(()=>{const r=u!==ge.value;Je&&!r||D&&!r||Xe(null,u,"reset")},[u,Xe,Je,ge.value,D]);const yt=$e&&L.length>0&&!de,ye=jt(r=>{if(r===-1)c.current.focus();else{const s=N?"data-item-index":"data-tag-index";R.querySelector(`[${s}="${r}"]`).focus()}});g.useEffect(()=>{S&&re>u.length-1&&(Ne(-1),ye(-1))},[u,S,re,ye]);function Ft(r,s){if(!m.current||r<0||r>=L.length)return-1;let a=r;for(;;){const f=m.current.querySelector(`[data-option-index="${a}"]`),x=ae?!1:!f||f.disabled||f.getAttribute("aria-disabled")==="true";if(f&&f.hasAttribute("tabindex")&&!x)return a;if(s==="next"?a=(a+1)%L.length:a=(a-1+L.length)%L.length,a===r)return-1}}const Oe=jt(({event:r,index:s,reason:a})=>{if(ee.current=s,s===-1?c.current.removeAttribute("aria-activedescendant"):c.current.setAttribute("aria-activedescendant",`${q}-option-${s}`),be&&["mouse","keyboard","touch"].includes(a)&&be(r,s===-1?null:L[s],a),!m.current)return;const f=m.current.querySelector(`[role="option"].${d}-focused`);f&&(f.classList.remove(`${d}-focused`),f.classList.remove(`${d}-focusVisible`));let x=m.current;if(m.current.getAttribute("role")!=="listbox"&&(x=m.current.parentElement.querySelector('[role="listbox"]')),!x)return;if(s===-1){x.scrollTop=0;return}const _=m.current.querySelector(`[data-option-index="${s}"]`);if(_&&(_.classList.add(`${d}-focused`),a==="keyboard"&&_.classList.add(`${d}-focusVisible`),x.scrollHeight>x.clientHeight&&a!=="mouse"&&a!=="touch")){const T=_,me=x.clientHeight+x.scrollTop,It=T.offsetTop+T.offsetHeight;It>me?x.scrollTop=It-x.clientHeight:T.offsetTop-T.offsetHeight*(X?1.3:0)<x.scrollTop&&(x.scrollTop=T.offsetTop-T.offsetHeight*(X?1.3:0))}}),xe=jt(({event:r,diff:s,direction:a="next",reason:f})=>{if(!oe)return;const _=Ft((()=>{const T=L.length-1;if(s==="reset")return At;if(s==="start")return 0;if(s==="end")return T;const me=ee.current+s;return me<0?me===-1&&ce?-1:le&&ee.current!==-1||Math.abs(s)>1?0:T:me>T?me===T+1&&ce?-1:le||Math.abs(s)>1?T:0:me})(),a);if(Oe({index:_,reason:f,event:r}),h&&s!=="reset")if(_===-1)c.current.value=j;else{const T=o(L[_]);c.current.value=T,T.toLowerCase().indexOf(j.toLowerCase())===0&&j.length>0&&c.current.setSelectionRange(j.length,T.length)}}),vt=!co({array1:ge.filteredOptions,array2:L,parser:o}),Rt=()=>{const r=(s,a)=>{const f=s?o(s):"",x=a?o(a):"";return f===x};if(ee.current!==-1&&!co({array1:ge.filteredOptions,array2:L,parser:o})&&ge.inputValue===j&&(S?u.length===ge.value.length&&ge.value.every((s,a)=>o(u[a])===o(s)):r(ge.value,u))){const s=ge.filteredOptions[ee.current];if(s)return L.findIndex(a=>o(a)===o(s))}return-1},at=g.useCallback(()=>{if(!oe)return;const r=Rt();if(r!==-1){ee.current=r;return}const s=S?u[0]:u;if(L.length===0||s==null){xe({diff:"reset"});return}if(m.current){if(s!=null){const a=L[ee.current];if(S&&a&&u.findIndex(x=>Ce(a,x))!==-1)return;const f=L.findIndex(x=>Ce(x,s));f===-1?xe({diff:"reset"}):Oe({index:f});return}if(ee.current>=L.length-1){Oe({index:L.length-1});return}Oe({index:ee.current})}},[L.length,S?!1:u,xe,Oe,oe,j,S]),Le=jt(r=>{Co(m,r),r&&at()});g.useEffect(()=>{(vt||oe)&&at()},[at,vt,oe]);const ke=r=>{$e||(Ee(!0),Ze(!0),Ye&&Ye(r))},He=(r,s)=>{$e&&(Ee(!1),Qe&&Qe(r,s))},he=(r,s,a,f)=>{if(S){if(u.length===s.length&&u.every((x,_)=>x===s[_]))return}else if(u===s)return;it&&it(r,s,a,f),Bt(s)},ze=g.useRef(!1),Ae=(r,s,a="selectOption",f="options")=>{let x=a,_=s;if(S){_=Array.isArray(u)?u.slice():[];const T=_.findIndex(me=>Ce(s,me));T===-1?_.push(s):f!=="freeSolo"&&(_.splice(T,1),x="removeOption")}Xe(r,_,x),he(r,_,x,{option:s}),!Q&&(!r||!r.ctrlKey&&!r.metaKey)&&He(r,x),(w===!0||w==="touch"&&ze.current||w==="mouse"&&!ze.current)&&c.current.blur()};function Tt(r,s){if(r===-1)return-1;let a=r;for(;;){if(s==="next"&&a===u.length||s==="previous"&&a===-1)return-1;const f=N?"data-item-index":"data-tag-index",x=R.querySelector(`[${f}="${a}"]`);if(!x||!x.hasAttribute("tabindex")||x.disabled||x.getAttribute("aria-disabled")==="true")a+=s==="next"?1:-1;else return a}}const Ve=(r,s)=>{if(!S)return;j===""&&He(r,"toggleInput");let a=re;re===-1&&s==="previous"?(a=u.length-1,D&&j!==""&&(je(""),U&&U(r,"","reset"))):(a+=s==="next"?1:-1,a<0&&(a=0),a===u.length&&(a=-1)),a=Tt(a,s),Ne(a),ye(a)},St=r=>{n.current=!0,je(""),U&&U(r,"","clear"),he(r,S?[]:null,"clear")},Wt=r=>s=>{if(r.onKeyDown&&r.onKeyDown(s),!s.defaultMuiPrevented&&(re!==-1&&!["ArrowLeft","ArrowRight"].includes(s.key)&&(Ne(-1),ye(-1)),s.which!==229))switch(s.key){case"Home":oe&&Z&&(s.preventDefault(),xe({diff:"start",direction:"next",reason:"keyboard",event:s}));break;case"End":oe&&Z&&(s.preventDefault(),xe({diff:"end",direction:"previous",reason:"keyboard",event:s}));break;case"PageUp":s.preventDefault(),xe({diff:-uo,direction:"previous",reason:"keyboard",event:s}),ke(s);break;case"PageDown":s.preventDefault(),xe({diff:uo,direction:"next",reason:"keyboard",event:s}),ke(s);break;case"ArrowDown":s.preventDefault(),xe({diff:1,direction:"next",reason:"keyboard",event:s}),ke(s);break;case"ArrowUp":s.preventDefault(),xe({diff:-1,direction:"previous",reason:"keyboard",event:s}),ke(s);break;case"ArrowLeft":{const a=c.current;if(!(a&&a.selectionStart===0&&a.selectionEnd===0))return;!S&&N&&u!=null?(D&&j!==""&&(je(""),U&&U(s,"","reset")),Ne(0),ye(0)):Ve(s,"previous");break}case"ArrowRight":!S&&N?(Ne(-1),ye(-1)):Ve(s,"next");break;case"Enter":if(ee.current!==-1&&oe){const a=L[ee.current],f=J?J(a):!1;if(s.preventDefault(),f)return;Ae(s,a,"selectOption"),h&&c.current.setSelectionRange(c.current.value.length,c.current.value.length)}else D&&j!==""&&bt===!1&&(S&&s.preventDefault(),Ae(s,j,"createOption","freeSolo"));break;case"Escape":oe?(s.preventDefault(),s.stopPropagation(),He(s,"escape")):F&&(j!==""||S&&u.length>0||N)&&(s.preventDefault(),s.stopPropagation(),St(s));break;case"Backspace":if(S&&!de&&j===""&&u.length>0){const a=re===-1?u.length-1:re,f=u.slice();f.splice(a,1),he(s,f,"removeOption",{option:u[a]})}!S&&N&&!de&&j===""&&he(s,null,"removeOption",{option:u});break;case"Delete":if(S&&!de&&j===""&&u.length>0&&re!==-1){const a=re,f=u.slice();f.splice(a,1),he(s,f,"removeOption",{option:u[a]})}!S&&N&&!de&&j===""&&he(s,null,"removeOption",{option:u});break}},et=r=>{mt(!0),re!==-1&&(Ne(-1),ye(-1)),Me&&!n.current&&ke(r)},tt=r=>{if(i(m)){c.current.focus();return}mt(!1),l.current=!0,n.current=!1,A&&ee.current!==-1&&oe?Ae(r,L[ee.current],"blur"):A&&D&&j!==""?Ae(r,j,"blur","freeSolo"):z&&Xe(r,u,"blur"),He(r,"blur")},lt=r=>{const s=r.target.value;j!==s&&(je(s),Ze(!1),U&&U(r,s,"input")),s===""?!V&&!S&&!N&&he(r,null,"clear"):ke(r)},Mt=r=>{const s=Number(r.currentTarget.getAttribute("data-option-index"));ee.current!==s&&Oe({event:r,index:s,reason:"mouse"})},Dt=r=>{Oe({event:r,index:Number(r.currentTarget.getAttribute("data-option-index")),reason:"touch"}),ze.current=!0},Nt=r=>{const s=Number(r.currentTarget.getAttribute("data-option-index"));Ae(r,L[s],"selectOption"),ze.current=!1},Et=r=>s=>{const a=u.slice();a.splice(r,1),he(s,a,"removeOption",{option:u[r]})},ct=r=>{he(r,null,"removeOption",{option:u})},E=r=>{$e?He(r,"toggleInput"):ke(r)},K=r=>{r.currentTarget.contains(r.target)&&r.target.getAttribute("id")!==q&&r.preventDefault()},Be=r=>{r.currentTarget.contains(r.target)&&(c.current.focus(),De&&l.current&&c.current.selectionEnd-c.current.selectionStart===0&&c.current.select(),l.current=!1)},Ht=r=>{!I&&(j===""||!$e)&&E(r)};let dt=D&&j.length>0;dt=dt||(S?u.length>0:u!==null);let Ct=L;return X&&(Ct=L.reduce((r,s,a)=>{const f=X(s);return r.length>0&&r[r.length-1].group===f?r[r.length-1].options.push(s):r.push({key:a,index:a,group:f,options:[s]}),r},[])),I&&Je&&tt(),{getRootProps:(r={})=>({...r,onKeyDown:Wt(r),onMouseDown:K,onClick:Be}),getInputLabelProps:()=>({id:`${q}-label`,htmlFor:q}),getInputProps:()=>({id:q,value:j,onBlur:tt,onFocus:et,onChange:lt,onMouseDown:Ht,"aria-activedescendant":oe?"":null,"aria-autocomplete":h?"both":"list","aria-controls":yt?`${q}-listbox`:void 0,"aria-expanded":yt,autoComplete:"off",ref:c,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:I}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:St}),getItemProps:({index:r=0}={})=>({...S&&{key:r},...N?{"data-item-index":r}:{"data-tag-index":r},tabIndex:-1,...!de&&{onDelete:S?Et(r):ct}}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:E}),getTagProps:({index:r})=>({key:r,"data-tag-index":r,tabIndex:-1,...!de&&{onDelete:Et(r)}}),getListboxProps:()=>({role:"listbox",id:`${q}-listbox`,"aria-labelledby":`${q}-label`,ref:Le,onMouseDown:r=>{r.preventDefault()}}),getOptionProps:({index:r,option:s})=>{const a=(S?u:[u]).some(x=>x!=null&&Ce(s,x)),f=J?J(s):!1;return{key:ne?.(s)??o(s),tabIndex:-1,role:"option",id:`${q}-option-${r}`,onMouseMove:Mt,onClick:Nt,onTouchStart:Dt,"data-option-index":r,"aria-disabled":f,"aria-selected":a}},id:q,inputValue:j,value:u,dirty:dt,expanded:oe&&R,popupOpen:oe,focused:Je||re!==-1,anchorEl:R,setAnchorEl:ht,focusedItem:re,focusedTag:re,groupedOptions:Ct}}function cs(t){return zt("MuiListSubheader",t)}Pt("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const ds=t=>{const{classes:i,color:d,disableGutters:h,inset:v,disableSticky:A}=t,w={root:["root",d!=="default"&&`color${We(d)}`,!h&&"gutters",v&&"inset",!A&&"sticky"]};return Lt(w,cs,i)},ps=ie("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(t,i)=>{const{ownerState:d}=t;return[i.root,d.color!=="default"&&i[`color${We(d.color)}`],!d.disableGutters&&i.gutters,d.inset&&i.inset,!d.disableSticky&&i.sticky]}})(we(({theme:t})=>({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(t.vars||t).palette.text.secondary,fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(14),variants:[{props:{color:"primary"},style:{color:(t.vars||t).palette.primary.main}},{props:{color:"inherit"},style:{color:"inherit"}},{props:({ownerState:i})=>!i.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:i})=>i.inset,style:{paddingLeft:72}},{props:({ownerState:i})=>!i.disableSticky,style:{position:"sticky",top:0,zIndex:1,backgroundColor:(t.vars||t).palette.background.paper}}]}))),Yt=g.forwardRef(function(i,d){const h=wt({props:i,name:"MuiListSubheader"}),{className:v,color:A="default",component:w="li",disableGutters:z=!1,disableSticky:F=!1,inset:B=!1,...$}=h,V={...h,color:A,component:w,disableGutters:z,disableSticky:F,inset:B},Q=ds(V);return e.jsx(ps,{as:w,className:nt(Q.root,v),ref:d,ownerState:V,...$})});Yt&&(Yt.muiSkipListHighlight=!0);function us(t){return zt("MuiAutocomplete",t)}const y=Pt("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var go,xo;const fs=t=>{const{classes:i,disablePortal:d,expanded:h,focused:v,fullWidth:A,hasClearIcon:w,hasPopupIcon:z,inputFocused:F,popupOpen:B,size:$}=t,V={root:["root",h&&"expanded",v&&"focused",A&&"fullWidth",w&&"hasClearIcon",z&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",F&&"inputFocused"],tag:["tag",`tagSize${We($)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",B&&"popupIndicatorOpen"],popper:["popper",d&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return Lt(V,us,i)},gs=ie("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(t,i)=>{const{ownerState:d}=t,{fullWidth:h,hasClearIcon:v,hasPopupIcon:A,inputFocused:w,size:z}=d;return[{[`& .${y.tag}`]:i.tag},{[`& .${y.tag}`]:i[`tagSize${We(z)}`]},{[`& .${y.inputRoot}`]:i.inputRoot},{[`& .${y.input}`]:i.input},{[`& .${y.input}`]:w&&i.inputFocused},i.root,h&&i.fullWidth,A&&i.hasPopupIcon,v&&i.hasClearIcon]}})({[`&.${y.focused} .${y.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${y.clearIndicator}`]:{visibility:"visible"}},[`& .${y.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${y.inputRoot}`]:{[`.${y.hasPopupIcon}&, .${y.hasClearIcon}&`]:{paddingRight:30},[`.${y.hasPopupIcon}.${y.hasClearIcon}&`]:{paddingRight:56},[`& .${y.input}`]:{width:0,minWidth:30}},[`& .${Kt.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${Kt.root}.${qe.sizeSmall}`]:{[`& .${Kt.input}`]:{padding:"2px 4px 3px 0"}},[`& .${ao.root}`]:{padding:9,[`.${y.hasPopupIcon}&, .${y.hasClearIcon}&`]:{paddingRight:39},[`.${y.hasPopupIcon}.${y.hasClearIcon}&`]:{paddingRight:65},[`& .${y.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${y.endAdornment}`]:{right:9}},[`& .${ao.root}.${qe.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${y.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${ot.root}`]:{paddingTop:19,paddingLeft:8,[`.${y.hasPopupIcon}&, .${y.hasClearIcon}&`]:{paddingRight:39},[`.${y.hasPopupIcon}.${y.hasClearIcon}&`]:{paddingRight:65},[`& .${ot.input}`]:{padding:"7px 4px"},[`& .${y.endAdornment}`]:{right:9}},[`& .${ot.root}.${qe.sizeSmall}`]:{paddingBottom:1,[`& .${ot.input}`]:{padding:"2.5px 4px"}},[`& .${qe.hiddenLabel}`]:{paddingTop:8},[`& .${ot.root}.${qe.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${y.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${ot.root}.${qe.hiddenLabel}.${qe.sizeSmall}`]:{[`& .${y.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${y.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${y.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${y.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${y.inputRoot}`]:{flexWrap:"wrap"}}}]}),xs=ie("div",{name:"MuiAutocomplete",slot:"EndAdornment"})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),hs=ie(Ke,{name:"MuiAutocomplete",slot:"ClearIndicator"})({marginRight:-2,padding:4,visibility:"hidden"}),ms=ie(Ke,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(t,i)=>{const{ownerState:d}=t;return[i.popupIndicator,d.popupOpen&&i.popupIndicatorOpen]}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),bs=ie(bo,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(t,i)=>{const{ownerState:d}=t;return[{[`& .${y.option}`]:i.option},i.popper,d.disablePortal&&i.popperDisablePortal]}})(we(({theme:t})=>({zIndex:(t.vars||t).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}))),ys=ie(ho,{name:"MuiAutocomplete",slot:"Paper"})(we(({theme:t})=>({...t.typography.body1,overflow:"auto"}))),vs=ie("div",{name:"MuiAutocomplete",slot:"Loading"})(we(({theme:t})=>({color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}))),Ss=ie("div",{name:"MuiAutocomplete",slot:"NoOptions"})(we(({theme:t})=>({color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}))),Cs=ie("ul",{name:"MuiAutocomplete",slot:"Listbox"})(we(({theme:t})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${y.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[t.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${y.focused}`]:{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${y.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),[`&.${y.focused}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:(t.vars||t).palette.action.selected}},[`&.${y.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}}}}))),Is=ie(Yt,{name:"MuiAutocomplete",slot:"GroupLabel"})(we(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,top:-8}))),js=ie("ul",{name:"MuiAutocomplete",slot:"GroupUl"})({padding:0,[`& .${y.option}`]:{paddingLeft:24}}),$s=g.forwardRef(function(i,d){const h=wt({props:i,name:"MuiAutocomplete"}),{autoComplete:v=!1,autoHighlight:A=!1,autoSelect:w=!1,blurOnSelect:z=!1,ChipProps:F,className:B,clearIcon:$=go||(go=e.jsx(Io,{fontSize:"small"})),clearOnBlur:V=!h.freeSolo,clearOnEscape:Q=!1,clearText:I="Clear",closeText:ae="Close",componentsProps:le,defaultValue:Y=h.multiple?[]:null,disableClearable:ue=!1,disableCloseOnSelect:D=!1,disabled:J=!1,disabledItemsFocusable:ne=!1,disableListWrap:W=!1,disablePortal:X=!1,filterOptions:Z,filterSelectedOptions:k=!1,forcePopupIcon:ce="auto",freeSolo:G=!1,fullWidth:Ce=!1,getLimitTagsText:S=C=>`+${C}`,getOptionDisabled:it,getOptionKey:Qe,getOptionLabel:be,isOptionEqualToValue:U,groupBy:Ye,handleHomeEndKeys:xt=!h.freeSolo,id:Me,includeInputInList:fe=!1,inputValue:de,limitTags:N=-1,ListboxComponent:De,ListboxProps:Ie,loading:q=!1,loadingText:o="Loading…",multiple:n=!1,noOptionsText:l="No options",onChange:c,onClose:m,onHighlightChange:R,onInputChange:ht,onOpen:re,open:Ne,openOnFocus:At=!1,openText:ee="Open",options:Jt,PaperComponent:u,PopperComponent:Bt,popupIcon:j=xo||(xo=e.jsx(Uo,{})),readOnly:je=!1,renderGroup:Je,renderInput:mt,renderOption:Xe,renderTags:$e,renderValue:Ee,selectOnFocus:Xt=!h.freeSolo,size:Ze="medium",slots:bt={},slotProps:oe={},value:L,...ge}=h,{getRootProps:yt,getInputProps:ye,getInputLabelProps:Ft,getPopupIndicatorProps:Oe,getClearProps:xe,getItemProps:vt,getListboxProps:Rt,getOptionProps:at,value:Le,dirty:ke,expanded:He,id:he,popupOpen:ze,focused:Ae,focusedItem:Tt,anchorEl:Ve,setAnchorEl:St,inputValue:Wt,groupedOptions:et}=ls({...h,componentName:"Autocomplete"}),tt=!ue&&!J&&ke&&!je,lt=(!G||ce===!0)&&ce!==!1,{onMouseDown:Mt}=ye(),{ref:Dt,...Nt}=Rt(),ct=be||(C=>C.label??C),E={...h,disablePortal:X,expanded:He,focused:Ae,fullWidth:Ce,getOptionLabel:ct,hasClearIcon:tt,hasPopupIcon:lt,inputFocused:Tt===-1,popupOpen:ze,size:Ze},K=fs(E),Be={slots:{paper:u,popper:Bt,...bt},slotProps:{chip:F,listbox:Ie,...le,...oe}},[Ht,dt]=Vt("listbox",{elementType:Cs,externalForwardedProps:Be,ownerState:E,className:K.listbox,additionalProps:Nt,ref:Dt}),[Ct,r]=Vt("paper",{elementType:ho,externalForwardedProps:Be,ownerState:E,className:K.paper}),[s,a]=Vt("popper",{elementType:bo,externalForwardedProps:Be,ownerState:E,className:K.popper,additionalProps:{disablePortal:X,style:{width:Ve?Ve.clientWidth:null},role:"presentation",anchorEl:Ve,open:ze}});let f;const x=C=>({className:K.tag,disabled:J,...vt(C)});if(n?Le.length>0&&($e?f=$e(Le,x,E):Ee?f=Ee(Le,x,E):f=Le.map((C,Fe)=>{const{key:Re,...pt}=x({index:Fe});return e.jsx(se,{label:ct(C),size:Ze,...pt,...Be.slotProps.chip},Re)})):Ee&&Le!=null&&(f=Ee(Le,x,E)),N>-1&&Array.isArray(f)){const C=f.length-N;!Ae&&C>0&&(f=f.splice(0,N),f.push(e.jsx("span",{className:K.tag,children:S(C)},f.length)))}const T=Je||(C=>e.jsxs("li",{children:[e.jsx(Is,{className:K.groupLabel,ownerState:E,component:"div",children:C.group}),e.jsx(js,{className:K.groupUl,ownerState:E,children:C.children})]},C.key)),It=Xe||((C,Fe)=>{const{key:Re,...pt}=C;return e.jsx("li",{...pt,children:ct(Fe)},Re)}),Zt=(C,Fe)=>{const Re=at({option:C,index:Fe});return It({...Re,className:K.option},C,{selected:Re["aria-selected"],index:Fe,inputValue:Wt},E)},eo=Be.slotProps.clearIndicator,to=Be.slotProps.popupIndicator;return e.jsxs(g.Fragment,{children:[e.jsx(gs,{ref:d,className:nt(K.root,B),ownerState:E,...yt(ge),children:mt({id:he,disabled:J,fullWidth:!0,size:Ze==="small"?"small":void 0,InputLabelProps:Ft(),InputProps:{ref:St,className:K.inputRoot,startAdornment:f,onMouseDown:C=>{C.target===C.currentTarget&&Mt(C)},...(tt||lt)&&{endAdornment:e.jsxs(xs,{className:K.endAdornment,ownerState:E,children:[tt?e.jsx(hs,{...xe(),"aria-label":I,title:I,ownerState:E,...eo,className:nt(K.clearIndicator,eo?.className),children:$}):null,lt?e.jsx(ms,{...Oe(),disabled:J,"aria-label":ze?ae:ee,title:ze?ae:ee,ownerState:E,...to,className:nt(K.popupIndicator,to?.className),children:j}):null]})}},inputProps:{className:K.input,disabled:J,readOnly:je,...ye()}})}),Ve?e.jsx(bs,{as:s,...a,children:e.jsxs(ys,{as:Ct,...r,children:[q&&et.length===0?e.jsx(vs,{className:K.loading,ownerState:E,children:o}):null,et.length===0&&!G&&!q?e.jsx(Ss,{className:K.noOptions,ownerState:E,role:"presentation",onMouseDown:C=>{C.preventDefault()},children:l}):null,et.length>0?e.jsx(Ht,{as:De,...dt,children:et.map((C,Fe)=>Ye?T({key:C.key,group:C.group,children:C.options.map((Re,pt)=>Zt(Re,C.index+pt))}):Zt(C,Fe))}):null]})}):null]})});function Os(t){return g.Children.toArray(t).filter(i=>g.isValidElement(i))}function ks(t){return zt("MuiToggleButton",t)}const _e=Pt("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),yo=g.createContext({}),vo=g.createContext(void 0);function zs(t,i){return i===void 0||t===void 0?!1:Array.isArray(i)?i.includes(t):t===i}const Ps=t=>{const{classes:i,fullWidth:d,selected:h,disabled:v,size:A,color:w}=t,z={root:["root",h&&"selected",v&&"disabled",d&&"fullWidth",`size${We(A)}`,w]};return Lt(z,ks,i)},ws=ie($o,{name:"MuiToggleButton",slot:"Root",overridesResolver:(t,i)=>{const{ownerState:d}=t;return[i.root,i[`size${We(d.size)}`]]}})(we(({theme:t})=>({...t.typography.button,borderRadius:(t.vars||t).shape.borderRadius,padding:11,border:`1px solid ${(t.vars||t).palette.divider}`,color:(t.vars||t).palette.action.active,[`&.${_e.disabled}`]:{color:(t.vars||t).palette.action.disabled,border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${_e.selected}`]:{color:(t.vars||t).palette.text.primary,backgroundColor:t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.selectedOpacity),"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.text.primary,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.selectedOpacity)}}}}},...Object.entries(t.palette).filter(Oo()).map(([i])=>({props:{color:i},style:{[`&.${_e.selected}`]:{color:(t.vars||t).palette[i].main,backgroundColor:t.alpha((t.vars||t).palette[i].main,(t.vars||t).palette.action.selectedOpacity),"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[i].main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:t.alpha((t.vars||t).palette[i].main,(t.vars||t).palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:t.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:t.typography.pxToRem(15)}}]}))),Qt=g.forwardRef(function(i,d){const{value:h,...v}=g.useContext(yo),A=g.useContext(vo),w=jo({...v,selected:zs(i.value,h)},i),z=wt({props:w,name:"MuiToggleButton"}),{children:F,className:B,color:$="standard",disabled:V=!1,disableFocusRipple:Q=!1,fullWidth:I=!1,onChange:ae,onClick:le,selected:Y,size:ue="medium",value:D,...J}=z,ne={...z,color:$,disabled:V,disableFocusRipple:Q,fullWidth:I,size:ue},W=Ps(ne),X=k=>{le&&(le(k,D),k.defaultPrevented)||ae&&ae(k,D)},Z=A||"";return e.jsx(ws,{className:nt(v.className,W.root,B,Z),disabled:V,focusRipple:!Q,ref:d,onClick:X,onChange:ae,value:D,ownerState:ne,"aria-pressed":Y,...J,children:F})});function Ls(t){return zt("MuiToggleButtonGroup",t)}const P=Pt("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),As=t=>{const{classes:i,orientation:d,fullWidth:h,disabled:v}=t,A={root:["root",d,h&&"fullWidth"],grouped:["grouped",`grouped${We(d)}`,v&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return Lt(A,Ls,i)},Bs=ie("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(t,i)=>{const{ownerState:d}=t;return[{[`& .${P.grouped}`]:i.grouped},{[`& .${P.grouped}`]:i[`grouped${We(d.orientation)}`]},{[`& .${P.firstButton}`]:i.firstButton},{[`& .${P.lastButton}`]:i.lastButton},{[`& .${P.middleButton}`]:i.middleButton},i.root,d.orientation==="vertical"&&i.vertical,d.fullWidth&&i.fullWidth]}})(we(({theme:t})=>({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${P.grouped}`]:{[`&.${P.selected} + .${P.grouped}.${P.selected}`]:{borderTop:0,marginTop:0}},[`& .${P.firstButton},& .${P.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${P.lastButton},& .${P.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${P.lastButton}.${_e.disabled},& .${P.middleButton}.${_e.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${P.grouped}`]:{[`&.${P.selected} + .${P.grouped}.${P.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${P.firstButton},& .${P.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${P.lastButton},& .${P.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${P.lastButton}.${_e.disabled},& .${P.middleButton}.${_e.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),Fs=g.forwardRef(function(i,d){const h=wt({props:i,name:"MuiToggleButtonGroup"}),{children:v,className:A,color:w="standard",disabled:z=!1,exclusive:F=!1,fullWidth:B=!1,onChange:$,orientation:V="horizontal",size:Q="medium",value:I,...ae}=h,le={...h,disabled:z,fullWidth:B,orientation:V,size:Q},Y=As(le),ue=g.useCallback((Z,k)=>{if(!$)return;const ce=I&&I.indexOf(k);let G;I&&ce>=0?(G=I.slice(),G.splice(ce,1)):G=I?I.concat(k):[k],$(Z,G)},[$,I]),D=g.useCallback((Z,k)=>{$&&$(Z,I===k?null:k)},[$,I]),J=g.useMemo(()=>({className:Y.grouped,onChange:F?D:ue,value:I,size:Q,fullWidth:B,color:w,disabled:z}),[Y.grouped,F,D,ue,I,Q,B,w,z]),ne=Os(v),W=ne.length,X=Z=>{const k=Z===0,ce=Z===W-1;return k&&ce?"":k?Y.firstButton:ce?Y.lastButton:Y.middleButton};return e.jsx(Bs,{role:"group",className:nt(Y.root,A),ref:d,ownerState:le,...ae,children:e.jsx(yo.Provider,{value:J,children:ne.map((Z,k)=>e.jsx(vo.Provider,{value:X(k),children:Z},k))})})}),st=mo(e.jsx("path",{d:"M20 4H4v2h16zm1 10v-2l-1-5H4l-1 5v2h1v6h10v-6h4v6h2v-6zm-9 4H6v-4h6z"})),Rs=mo(e.jsx("path",{d:"M3 14h4v-4H3zm0 5h4v-4H3zM3 9h4V5H3zm5 5h13v-4H8zm0 5h13v-4H8zM8 5v4h13V5z"}));function Ts(){return e.jsxs(b,{sx:{display:"flex",alignItems:"center",gap:1.5,py:1.5,borderBottom:`1px solid ${M.borderLight}`},children:[e.jsx(rt,{variant:"circular",width:40,height:40}),e.jsxs(b,{sx:{flex:1},children:[e.jsx(rt,{variant:"text",width:"70%",height:20}),e.jsx(rt,{variant:"text",width:"40%",height:16})]}),e.jsx(rt,{variant:"circular",width:32,height:32})]})}function Ws(){return e.jsxs(b,{sx:{display:"flex",alignItems:"center",py:.75,borderBottom:`1px solid ${M.borderLight}`},children:[e.jsx(rt,{variant:"circular",width:42,height:42,sx:{mr:1.5}}),e.jsx(rt,{variant:"text",width:"60%",height:20})]})}function Ms({count:t=5,component:i=Ts}){return e.jsx(b,{children:Array.from({length:t}).map((d,h)=>e.jsx(i,{},h))})}function Zs(){const{currentUser:t}=ko(),{receipts:i}=zo(),{householdId:d,hasHousehold:h}=Po(),[v,A]=g.useState([]),[w,z]=g.useState(!0),[F,B]=g.useState(""),[$,V]=g.useState(""),[Q,I]=g.useState("other"),[ae,le]=g.useState(""),[Y,ue]=g.useState(!1),[D,J]=g.useState(!1),[ne,W]=g.useState({open:!1,message:"",severity:"info"}),[X,Z]=g.useState(!1),[k,ce]=g.useState("location"),G=[{value:"produce",label:"Produce",icon:Ko,color:p.main},{value:"meat",label:"Meat & Seafood",icon:_o,color:ut.main},{value:"dairy",label:"Dairy & Eggs",icon:Qo,color:te.main},{value:"bakery",label:"Bakery",icon:Yo,color:Se.main},{value:"frozen",label:"Frozen",icon:Jo,color:Fo.main},{value:"pantry",label:"Pantry",icon:lo,color:Ro.main},{value:"beverages",label:"Beverages",icon:Xo,color:To.main},{value:"snacks",label:"Snacks",icon:Zo,color:Wo.main},{value:"household",label:"Household",icon:es,color:H.main},{value:"other",label:"Other",icon:lo,color:H.main}],Ce=i.filter(o=>o.storeInfo?.name),S=g.useMemo(()=>{const o=new Map;return i.forEach(n=>{const l=n.storeInfo?.name;n.items?.forEach(c=>{if(c.name){const m=c.name.toLowerCase();o.has(m)||o.set(m,{name:c.name,stores:new Set}),l&&o.get(m).stores.add(l)}})}),v.forEach(n=>{if(n.name){const l=n.name.toLowerCase();o.has(l)||o.set(l,{name:n.name,stores:new Set})}}),Array.from(o.values()).map(n=>({name:n.name,stores:Array.from(n.stores),suggestedStore:n.stores.size>0?Array.from(n.stores)[0]:null})).sort((n,l)=>n.name.localeCompare(l.name))},[i,v]);g.useEffect(()=>{if(!t)return;let o;h&&d?o=oo(Ut(Ge,"shoppingList"),wo(Gt("householdId","==",d),Gt("userId","==",t.uid))):o=oo(Ut(Ge,"shoppingList"),Gt("userId","==",t.uid));const n=Lo(o,l=>{const c=[];l.forEach(m=>{c.push({id:m.id,...m.data()})}),c.sort((m,R)=>{const ht=m.createdAt?.toDate()||new Date(0);return(R.createdAt?.toDate()||new Date(0))-ht}),A(c),z(!1)},l=>{console.error("Error fetching shopping list:",l),z(!1)});return()=>n()},[t,d,h]);const it=o=>{const n=o.toLowerCase(),l=[];if(i.forEach(m=>{m.items?.forEach(R=>{(R.name?.toLowerCase().includes(n)||n.includes(R.name?.toLowerCase()))&&R.price&&R.price>0&&l.push(R.price)})}),l.length===0)return null;const c=l.reduce((m,R)=>m+R,0)/l.length;return Math.round(c*100)/100},Qe=async()=>{if(F.trim()){ue(!0);try{const o=it(F.trim());let n=Q;Q==="other"&&(n=await io(F.trim())),await Eo(Ut(Ge,"shoppingList"),{userId:t.uid,householdId:d||null,name:F.trim(),quantity:$.trim()||null,category:n,notes:ae.trim()||null,estimatedPrice:o,checked:!1,manual:!0,createdAt:Ho()}),B(""),V(""),I("other"),le(""),Z(!1),W({open:!0,message:"Item added to shopping list!",severity:"success"})}catch(o){console.error("Error adding item:",o),W({open:!0,message:"Failed to add item",severity:"error"})}finally{ue(!1)}}},be=async(o,n)=>{try{await ro(Ot(Ge,"shoppingList",o),{checked:!n})}catch(l){console.error("Error updating item:",l),W({open:!0,message:"Failed to update item",severity:"error"})}},U=async o=>{try{await no(Ot(Ge,"shoppingList",o)),W({open:!0,message:"Item removed from shopping list",severity:"success"})}catch(n){console.error("Error deleting item:",n),W({open:!0,message:"Failed to remove item",severity:"error"})}},Ye=async()=>{const o=v.filter(n=>n.checked);try{const n=o.map(l=>no(Ot(Ge,"shoppingList",l.id)));await Promise.all(n),W({open:!0,message:`Removed ${o.length} completed items`,severity:"success"})}catch(n){console.error("Error clearing completed:",n),W({open:!0,message:"Failed to clear completed items",severity:"error"})}},xt=async()=>{const o=v.filter(c=>!c.category||c.category==="other");if(o.length===0){W({open:!0,message:"All items are already categorized!",severity:"info"});return}J(!0);let n=0,l=0;try{for(const c of o)try{const m=await io(c.name);m&&m!=="other"?(await ro(Ot(Ge,"shoppingList",c.id),{category:m}),n++):l++}catch(m){console.error(`Error recategorizing ${c.name}:`,m),l++}W({open:!0,message:`Recategorized ${n} items${l>0?`, ${l} remained as 'other'`:""}`,severity:n>0?"success":"info"})}catch(c){console.error("Error recategorizing items:",c),W({open:!0,message:"Failed to recategorize items",severity:"error"})}finally{J(!1)}},Me=o=>{const n={};Ce.forEach(c=>{if(c.items?.some(R=>R.name?.toLowerCase().includes(o.toLowerCase())||o.toLowerCase().includes(R.name?.toLowerCase()))&&c.storeInfo?.name){const R=c.storeInfo.name;n[R]=(n[R]||0)+1}});const l=Object.entries(n);return l.length===0?null:(l.sort((c,m)=>m[1]-c[1]),l[0][0])},fe=v.filter(o=>!o.checked),de=v.filter(o=>o.checked);let N=[],De=[],Ie={},q={};return k==="store"?fe.forEach(o=>{const n=Me(o.name)||"Unknown Store";Ie[n]||(Ie[n]=[]),Ie[n].push(o)}):k==="location"?fe.forEach(o=>{const n=o.category||"other";q[n]||(q[n]=[]),q[n].push(o)}):(N=fe.filter(o=>o.fromRecipe),De=fe.filter(o=>o.manual)),w?e.jsx(b,{sx:{background:`linear-gradient(180deg, ${p.bg} 0%, ${pe} 100%)`,minHeight:"100vh",pb:4},children:e.jsxs(so,{maxWidth:"md",children:[e.jsxs(b,{sx:{pt:4,pb:3},children:[e.jsxs(b,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(qt,{sx:{fontSize:36,color:p.main}}),e.jsx(O,{variant:"h3",sx:{fontFamily:"Outfit, sans-serif",fontWeight:700,color:p.main,fontSize:{xs:"28px",md:"34px"},mb:0},children:"Shopping List"})]}),e.jsx(O,{variant:"body1",sx:{fontFamily:"Outfit, sans-serif",fontWeight:400,color:Pe.main},children:"Loading your shopping list..."})]}),e.jsx(Te,{sx:{bgcolor:pe,borderRadius:"12px",border:`2px solid ${M.border}`,boxShadow:`3px 3px 0px ${M.border}`},children:e.jsx(Ue,{sx:{p:2.5},children:e.jsx(Ms,{count:8,component:Ws})})})]})}):e.jsx(b,{sx:{background:`linear-gradient(180deg, ${p.bg} 0%, ${pe} 100%)`,minHeight:"100vh",pb:4},children:e.jsxs(so,{maxWidth:"md",children:[e.jsxs(b,{sx:{pt:4,pb:3},children:[e.jsxs(b,{sx:{display:"flex",justifyContent:"space-between",alignItems:"start",mb:1},children:[e.jsxs(b,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(qt,{sx:{fontSize:36,color:p.main}}),e.jsx(O,{variant:"h3",sx:{fontFamily:"Outfit, sans-serif",fontWeight:700,color:p.main,fontSize:{xs:"28px",md:"34px"},mb:0},children:"Shopping List"})]}),v.length>0&&e.jsx($t,{size:"small",onClick:xt,disabled:D,startIcon:D?e.jsx(Ao,{size:16}):e.jsx(Bo,{sx:{fontSize:16}}),sx:{fontFamily:"Outfit, sans-serif",fontSize:"12px",textTransform:"none",color:p.main,border:`1px solid ${p.main}`,borderRadius:"8px",px:2,py:.75,"&:hover":{bgcolor:p.bg,border:`1px solid ${p.dark}`},"&:disabled":{color:ve.light,border:`1px solid ${H.light}`}},children:D?"Analyzing...":"AI Categorize"})]}),e.jsxs(b,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(O,{variant:"body1",sx:{fontFamily:"Outfit, sans-serif",fontWeight:400,color:Pe.main},children:fe.length>0?`${fe.length} item${fe.length!==1?"s":""} to buy`:"Your shopping list is empty"}),fe.length>0&&e.jsxs(Fs,{value:k,exclusive:!0,onChange:(o,n)=>{n!==null&&ce(n)},size:"small",sx:{"& .MuiToggleButton-root":{fontFamily:"Outfit, sans-serif",fontSize:"11px",textTransform:"none",px:1.5,py:.5,border:`1px solid ${H.light}`,color:H.main,"&.Mui-selected":{bgcolor:p.main,color:"white",border:`1px solid ${p.main}`,"&:hover":{bgcolor:p.dark}},"&:hover":{bgcolor:M.borderLight}}},children:[e.jsxs(Qt,{value:"default",children:[e.jsx(Rs,{sx:{fontSize:16,mr:.5}}),"Default"]}),e.jsxs(Qt,{value:"store",children:[e.jsx(st,{sx:{fontSize:16,mr:.5}}),"Store"]}),e.jsxs(Qt,{value:"location",children:[e.jsx(Vo,{sx:{fontSize:16,mr:.5}}),"Category"]})]})]})]}),e.jsx(Te,{sx:{bgcolor:p.bg,borderRadius:"12px",border:`2px solid ${p.main}`,boxShadow:`3px 3px 0px ${p.light}`,mb:3},children:e.jsxs(Ue,{sx:{p:2.5},children:[e.jsxs(b,{sx:{display:"flex",gap:1.5,mb:X?2:0},children:[e.jsx($s,{freeSolo:!0,fullWidth:!0,size:"small",options:S,value:F,onChange:(o,n)=>{typeof n=="string"?B(n):n&&n.name?B(n.name):B("")},onInputChange:(o,n)=>{B(n)},filterOptions:(o,n)=>!n.inputValue||n.inputValue.length===0?[]:o.filter(l=>l.name.toLowerCase().includes(n.inputValue.toLowerCase())),getOptionLabel:o=>typeof o=="string"?o:o.name||"",renderOption:(o,n)=>e.jsxs(b,{component:"li",...o,sx:{display:"flex",justifyContent:"space-between",width:"100%"},children:[e.jsx(O,{sx:{fontFamily:"Outfit, sans-serif",fontSize:"13px",fontWeight:500},children:n.name}),n.suggestedStore&&e.jsx(se,{label:n.suggestedStore,size:"small",icon:e.jsx(st,{sx:{fontSize:12}}),sx:{height:"18px",fontSize:"10px",fontFamily:"Outfit, sans-serif",bgcolor:te.bg,color:te.dark,fontWeight:500,"& .MuiChip-icon":{color:te.dark,ml:.5}}})]}),disabled:Y,renderInput:o=>e.jsx(kt,{...o,placeholder:"Add item to shopping list...",onKeyPress:n=>{n.key==="Enter"&&!X&&Qe()},sx:{"& .MuiOutlinedInput-root":{fontFamily:"Outfit, sans-serif",bgcolor:pe,"& fieldset":{borderColor:p.light},"&:hover fieldset":{borderColor:p.main},"&.Mui-focused fieldset":{borderColor:p.main}}}})}),e.jsx($t,{variant:"outlined",onClick:()=>Z(!X),sx:{fontFamily:"Outfit, sans-serif",fontWeight:600,fontSize:"13px",textTransform:"none",color:p.main,borderColor:p.main,bgcolor:pe,minWidth:"40px",px:2,"&:hover":{borderColor:p.dark,bgcolor:p.bg}},children:X?"−":"+"}),e.jsx($t,{variant:"outlined",startIcon:e.jsx(qo,{}),onClick:Qe,disabled:!F.trim()||Y,sx:{fontFamily:"Outfit, sans-serif",textTransform:"none",color:p.main,borderColor:p.main,px:2,"&:hover":{borderColor:p.dark,bgcolor:p.bg}},children:"Add"})]}),X&&e.jsxs(b,{sx:{display:"flex",flexDirection:"column",gap:1.5},children:[e.jsxs(b,{sx:{display:"flex",gap:1.5},children:[e.jsx(kt,{size:"small",placeholder:"Quantity (e.g., 2x, 1 lb)",value:$,onChange:o=>V(o.target.value),disabled:Y,sx:{flex:1,"& .MuiOutlinedInput-root":{fontFamily:"Outfit, sans-serif",bgcolor:pe,"& fieldset":{borderColor:p.light},"&:hover fieldset":{borderColor:p.main},"&.Mui-focused fieldset":{borderColor:p.main}}}}),e.jsx(kt,{select:!0,size:"small",value:Q,onChange:o=>I(o.target.value),disabled:Y,SelectProps:{native:!0},sx:{flex:1,"& .MuiOutlinedInput-root":{fontFamily:"Outfit, sans-serif",bgcolor:pe,"& fieldset":{borderColor:p.light},"&:hover fieldset":{borderColor:p.main},"&.Mui-focused fieldset":{borderColor:p.main}}},children:G.map(o=>e.jsx("option",{value:o.value,children:o.label},o.value))})]}),e.jsx(kt,{fullWidth:!0,size:"small",placeholder:"Notes (e.g., organic, brand preference)",value:ae,onChange:o=>le(o.target.value),disabled:Y,sx:{"& .MuiOutlinedInput-root":{fontFamily:"Outfit, sans-serif",bgcolor:pe,"& fieldset":{borderColor:p.light},"&:hover fieldset":{borderColor:p.main},"&.Mui-focused fieldset":{borderColor:p.main}}}})]})]})}),v.length===0?e.jsxs(Te,{sx:{bgcolor:Se.bg,borderRadius:"16px",border:`2px solid ${Se.main}`,boxShadow:`3px 3px 0px ${Se.light}`,p:5,textAlign:"center"},children:[e.jsx(Go,{sx:{fontSize:56,color:Se.main,mb:2}}),e.jsx(O,{variant:"h5",sx:{fontFamily:"Outfit, sans-serif",fontWeight:600,color:Pe.main,mb:1,fontSize:"20px"},children:"No Items Yet"}),e.jsx(O,{variant:"body1",sx:{fontFamily:"Outfit, sans-serif",fontWeight:400,color:Pe.dark},children:"Add items manually or select ingredients from recipes to get started!"})]}):e.jsxs(e.Fragment,{children:[k==="default"&&e.jsxs(e.Fragment,{children:[N.length>0&&e.jsx(Te,{sx:{bgcolor:pe,borderRadius:"12px",border:`2px solid ${M.border}`,boxShadow:`3px 3px 0px ${M.border}`,mb:2},children:e.jsxs(Ue,{sx:{p:2.5},children:[e.jsxs(b,{sx:{display:"flex",alignItems:"center",gap:1,mb:1.5},children:[e.jsx(Mo,{sx:{fontSize:18,color:Se.main}}),e.jsx(O,{variant:"h6",sx:{fontFamily:"Outfit, sans-serif",fontWeight:600,color:Pe.main,fontSize:"15px"},children:"From Recipes"})]}),N.map(o=>e.jsxs(b,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",py:.75,borderBottom:`1px solid ${M.borderLight}`,"&:last-child":{borderBottom:"none"}},children:[e.jsxs(b,{sx:{display:"flex",alignItems:"start",flex:1},children:[e.jsx(ft,{checked:o.checked,onChange:()=>be(o.id,o.checked),sx:{color:p.main,"&.Mui-checked":{color:p.main},py:.5,mt:-.5}}),e.jsxs(b,{sx:{flex:1},children:[e.jsxs(b,{sx:{display:"flex",alignItems:"center",gap:.75,flexWrap:"wrap"},children:[e.jsx(O,{variant:"body2",sx:{fontFamily:"Outfit, sans-serif",color:ve.darker,fontSize:"13px",fontWeight:500,textDecoration:o.checked?"line-through":"none"},children:o.name}),o.quantity&&e.jsx(se,{label:o.quantity,size:"small",sx:{height:"20px",fontSize:"11px",fontFamily:"Outfit, sans-serif",bgcolor:Se.bg,color:Pe.dark,fontWeight:500}}),o.category&&o.category!=="other"&&(()=>{const n=G.find(l=>l.value===o.category);return n?e.jsx(se,{label:n.label,size:"small",sx:{height:"20px",fontSize:"11px",fontFamily:"Outfit, sans-serif",bgcolor:`${n.color}15`,color:n.color,fontWeight:500}}):null})(),o.estimatedPrice&&e.jsxs(O,{variant:"caption",sx:{fontFamily:"Outfit, sans-serif",color:H.main,fontSize:"11px",fontWeight:500},children:["~$",o.estimatedPrice.toFixed(2)]}),(()=>{const n=Me(o.name);return n?e.jsx(se,{label:n,icon:e.jsx(st,{sx:{fontSize:14}}),size:"small",sx:{height:"20px",fontSize:"10px",fontFamily:"Outfit, sans-serif",bgcolor:te.bg,color:te.dark,fontWeight:500,"& .MuiChip-icon":{color:te.dark}}}):null})()]}),o.notes&&e.jsxs(O,{variant:"caption",sx:{fontFamily:"Outfit, sans-serif",color:H.main,fontSize:"11px",fontStyle:"italic",display:"block",mt:.25},children:["Note: ",o.notes]}),o.fromRecipe&&e.jsxs(O,{variant:"caption",sx:{fontFamily:"Outfit, sans-serif",color:H.main,fontSize:"11px",display:"block",mt:.25},children:["from ",o.fromRecipe]})]})]}),e.jsx(Ke,{size:"small",onClick:()=>U(o.id),sx:{color:ut.main},children:e.jsx(gt,{sx:{fontSize:18}})})]},o.id))]})}),De.length>0&&e.jsx(Te,{sx:{bgcolor:pe,borderRadius:"12px",border:`2px solid ${M.border}`,boxShadow:`3px 3px 0px ${M.border}`,mb:2},children:e.jsxs(Ue,{sx:{p:2.5},children:[e.jsxs(b,{sx:{display:"flex",alignItems:"center",gap:1,mb:1.5},children:[e.jsx(qt,{sx:{fontSize:18,color:p.main}}),e.jsx(O,{variant:"h6",sx:{fontFamily:"Outfit, sans-serif",fontWeight:600,color:p.main,fontSize:"15px"},children:"Other Items"})]}),De.map(o=>e.jsxs(b,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",py:.75,borderBottom:`1px solid ${M.borderLight}`,"&:last-child":{borderBottom:"none"}},children:[e.jsxs(b,{sx:{display:"flex",alignItems:"start",flex:1},children:[e.jsx(ft,{checked:o.checked,onChange:()=>be(o.id,o.checked),sx:{color:p.main,"&.Mui-checked":{color:p.main},py:.5,mt:-.5}}),e.jsxs(b,{sx:{flex:1},children:[e.jsxs(b,{sx:{display:"flex",alignItems:"center",gap:.75,flexWrap:"wrap"},children:[e.jsx(O,{variant:"body2",sx:{fontFamily:"Outfit, sans-serif",color:ve.darker,fontSize:"13px",fontWeight:500,textDecoration:o.checked?"line-through":"none"},children:o.name}),o.quantity&&e.jsx(se,{label:o.quantity,size:"small",sx:{height:"20px",fontSize:"11px",fontFamily:"Outfit, sans-serif",bgcolor:Se.bg,color:Pe.dark,fontWeight:500}}),o.category&&o.category!=="other"&&(()=>{const n=G.find(l=>l.value===o.category);return n?e.jsx(se,{label:n.label,size:"small",sx:{height:"20px",fontSize:"11px",fontFamily:"Outfit, sans-serif",bgcolor:`${n.color}15`,color:n.color,fontWeight:500}}):null})(),o.estimatedPrice&&e.jsxs(O,{variant:"caption",sx:{fontFamily:"Outfit, sans-serif",color:H.main,fontSize:"11px",fontWeight:500},children:["~$",o.estimatedPrice.toFixed(2)]}),(()=>{const n=Me(o.name);return n?e.jsx(se,{label:n,icon:e.jsx(st,{sx:{fontSize:14}}),size:"small",sx:{height:"20px",fontSize:"10px",fontFamily:"Outfit, sans-serif",bgcolor:te.bg,color:te.dark,fontWeight:500,"& .MuiChip-icon":{color:te.dark}}}):null})()]}),o.notes&&e.jsxs(O,{variant:"caption",sx:{fontFamily:"Outfit, sans-serif",color:H.main,fontSize:"11px",fontStyle:"italic",display:"block",mt:.25},children:["Note: ",o.notes]})]})]}),e.jsx(Ke,{size:"small",onClick:()=>U(o.id),sx:{color:ut.main},children:e.jsx(gt,{sx:{fontSize:18}})})]},o.id))]})})]}),k==="store"&&e.jsx(e.Fragment,{children:Object.entries(Ie).sort(([o],[n])=>o.localeCompare(n)).map(([o,n])=>e.jsx(Te,{sx:{bgcolor:pe,borderRadius:"12px",border:`2px solid ${M.border}`,boxShadow:`3px 3px 0px ${M.border}`,mb:2},children:e.jsxs(Ue,{sx:{p:2.5},children:[e.jsxs(b,{sx:{display:"flex",alignItems:"center",gap:1,mb:1.5},children:[e.jsx(st,{sx:{fontSize:18,color:te.main}}),e.jsx(O,{variant:"h6",sx:{fontFamily:"Outfit, sans-serif",fontWeight:600,color:te.dark,fontSize:"15px"},children:o}),e.jsx(se,{label:`${n.length} item${n.length!==1?"s":""}`,size:"small",sx:{height:"20px",fontSize:"11px",fontFamily:"Outfit, sans-serif",bgcolor:te.bg,color:te.dark,fontWeight:500}})]}),n.map(l=>e.jsxs(b,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",py:.75,borderBottom:`1px solid ${M.borderLight}`,"&:last-child":{borderBottom:"none"}},children:[e.jsxs(b,{sx:{display:"flex",alignItems:"start",flex:1},children:[e.jsx(ft,{checked:l.checked,onChange:()=>be(l.id,l.checked),sx:{color:p.main,"&.Mui-checked":{color:p.main},py:.5,mt:-.5}}),e.jsxs(b,{sx:{flex:1},children:[e.jsxs(b,{sx:{display:"flex",alignItems:"center",gap:.75,flexWrap:"wrap"},children:[e.jsx(O,{variant:"body2",sx:{fontFamily:"Outfit, sans-serif",color:ve.darker,fontSize:"13px",fontWeight:500,textDecoration:l.checked?"line-through":"none"},children:l.name}),l.quantity&&e.jsx(se,{label:l.quantity,size:"small",sx:{height:"20px",fontSize:"11px",fontFamily:"Outfit, sans-serif",bgcolor:Se.bg,color:Pe.dark,fontWeight:500}}),l.category&&l.category!=="other"&&(()=>{const c=G.find(m=>m.value===l.category);return c?e.jsx(se,{label:c.label,size:"small",sx:{height:"20px",fontSize:"10px",fontFamily:"Outfit, sans-serif",bgcolor:c.color,color:pe,fontWeight:500}}):null})(),l.estimatedPrice&&e.jsxs(O,{variant:"caption",sx:{fontFamily:"Outfit, sans-serif",color:p.main,fontSize:"11px",fontWeight:600},children:["~$",l.estimatedPrice.toFixed(2)]})]}),l.notes&&e.jsxs(O,{variant:"caption",sx:{fontFamily:"Outfit, sans-serif",color:H.main,fontSize:"11px",fontStyle:"italic",display:"block",mt:.25},children:["Note: ",l.notes]})]})]}),e.jsx(Ke,{size:"small",onClick:()=>U(l.id),sx:{color:ut.main},children:e.jsx(gt,{sx:{fontSize:18}})})]},l.id))]})},o))}),k==="location"&&e.jsx(e.Fragment,{children:Object.entries(q).sort(([o],[n])=>{const l=G.findIndex(m=>m.value===o),c=G.findIndex(m=>m.value===n);return l-c}).map(([o,n])=>{const l=G.find(c=>c.value===o);return l?e.jsx(Te,{sx:{bgcolor:"white",borderRadius:"12px",border:`2px solid ${M.border}`,boxShadow:`3px 3px 0px ${M.border}`,mb:2},children:e.jsxs(Ue,{sx:{p:2.5},children:[e.jsxs(b,{sx:{display:"flex",alignItems:"center",gap:1,mb:1.5},children:[l.icon&&(function(){const c=l.icon;return e.jsx(c,{sx:{fontSize:20,color:l.color}})})(),e.jsx(O,{variant:"h6",sx:{fontFamily:"Outfit, sans-serif",fontWeight:600,color:ve.darker,fontSize:"15px"},children:l.label}),e.jsx(se,{label:`${n.length} item${n.length!==1?"s":""}`,size:"small",sx:{height:"20px",fontSize:"11px",fontFamily:"Outfit, sans-serif",bgcolor:l.color,color:pe,fontWeight:500}})]}),n.map(c=>e.jsxs(b,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",py:.75,borderBottom:`1px solid ${M.borderLight}`,"&:last-child":{borderBottom:"none"}},children:[e.jsxs(b,{sx:{display:"flex",alignItems:"start",flex:1},children:[e.jsx(ft,{checked:c.checked,onChange:()=>be(c.id,c.checked),sx:{color:p.main,"&.Mui-checked":{color:p.main},py:.5,mt:-.5}}),e.jsxs(b,{sx:{flex:1},children:[e.jsxs(b,{sx:{display:"flex",alignItems:"center",gap:.75,flexWrap:"wrap"},children:[e.jsx(O,{variant:"body2",sx:{fontFamily:"Outfit, sans-serif",color:ve.darker,fontSize:"13px",fontWeight:500,textDecoration:c.checked?"line-through":"none"},children:c.name}),c.quantity&&e.jsx(se,{label:c.quantity,size:"small",sx:{height:"20px",fontSize:"11px",fontFamily:"Outfit, sans-serif",bgcolor:Se.bg,color:Pe.dark,fontWeight:500}}),c.estimatedPrice&&e.jsxs(O,{variant:"caption",sx:{fontFamily:"Outfit, sans-serif",color:p.main,fontSize:"11px",fontWeight:600},children:["~$",c.estimatedPrice.toFixed(2)]}),(()=>{const m=Me(c.name);return m?e.jsx(se,{label:m,icon:e.jsx(st,{sx:{fontSize:14}}),size:"small",sx:{height:"20px",fontSize:"10px",fontFamily:"Outfit, sans-serif",bgcolor:te.bg,color:te.dark,fontWeight:500,"& .MuiChip-icon":{color:te.dark}}}):null})()]}),c.notes&&e.jsxs(O,{variant:"caption",sx:{fontFamily:"Outfit, sans-serif",color:H.main,fontSize:"11px",fontStyle:"italic",display:"block",mt:.25},children:["Note: ",c.notes]})]})]}),e.jsx(Ke,{size:"small",onClick:()=>U(c.id),sx:{color:ut.main},children:e.jsx(gt,{sx:{fontSize:18}})})]},c.id))]})},o):null})}),de.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(ts,{sx:{my:3}}),e.jsx(Te,{sx:{bgcolor:H.bg,borderRadius:"12px",border:`2px solid ${H.light}`,boxShadow:`2px 2px 0px ${H.light}`,mb:2},children:e.jsxs(Ue,{sx:{p:2.5},children:[e.jsxs(b,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1.5},children:[e.jsxs(b,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(os,{sx:{fontSize:18,color:p.main}}),e.jsxs(O,{variant:"h6",sx:{fontFamily:"Outfit, sans-serif",fontWeight:600,color:H.main,fontSize:"15px"},children:["Completed (",de.length,")"]})]}),e.jsx($t,{size:"small",onClick:Ye,sx:{fontFamily:"Outfit, sans-serif",fontSize:"11px",textTransform:"none",color:H.main},children:"Clear All"})]}),de.map(o=>e.jsxs(b,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",py:.75,borderBottom:`1px solid ${M.border}`,"&:last-child":{borderBottom:"none"}},children:[e.jsxs(b,{sx:{display:"flex",alignItems:"start",flex:1},children:[e.jsx(ft,{checked:o.checked,onChange:()=>be(o.id,o.checked),sx:{color:p.main,"&.Mui-checked":{color:p.main},py:.5,mt:-.5}}),e.jsxs(b,{sx:{flex:1},children:[e.jsxs(b,{sx:{display:"flex",alignItems:"center",gap:.75,flexWrap:"wrap"},children:[e.jsx(O,{variant:"body2",sx:{fontFamily:"Outfit, sans-serif",color:ve.light,fontSize:"13px",fontWeight:500,textDecoration:"line-through"},children:o.name}),o.quantity&&e.jsx(se,{label:o.quantity,size:"small",sx:{height:"20px",fontSize:"11px",fontFamily:"Outfit, sans-serif",bgcolor:M.borderLight,color:H.main,fontWeight:500}}),o.category&&o.category!=="other"&&(()=>{const n=G.find(l=>l.value===o.category);return n?e.jsx(se,{label:n.label,size:"small",sx:{height:"20px",fontSize:"11px",fontFamily:"Outfit, sans-serif",bgcolor:M.borderLight,color:H.main,fontWeight:500}}):null})(),o.estimatedPrice&&e.jsxs(O,{variant:"caption",sx:{fontFamily:"Outfit, sans-serif",color:ve.light,fontSize:"11px",fontWeight:500},children:["~$",o.estimatedPrice.toFixed(2)]})]}),o.notes&&e.jsxs(O,{variant:"caption",sx:{fontFamily:"Outfit, sans-serif",color:ve.light,fontSize:"11px",fontStyle:"italic",display:"block",mt:.25},children:["Note: ",o.notes]})]})]}),e.jsx(Ke,{size:"small",onClick:()=>U(o.id),sx:{color:ve.light},children:e.jsx(gt,{sx:{fontSize:18}})})]},o.id))]})})]})]}),e.jsx(Do,{open:ne.open,autoHideDuration:3e3,onClose:()=>W({...ne,open:!1}),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:e.jsx(No,{onClose:()=>W({...ne,open:!1}),severity:ne.severity,sx:{width:"100%"},children:ne.message})})]})})}export{Zs as default};
