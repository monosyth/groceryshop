import{af as g,q as s,l as c,ag as m,az as h,p,n as y}from"./index-Pt9eeAw5.js";const w=async(o,e,t,a)=>{try{if(!t||t.length===0)return 0;const n=g(s(c,"pantry"),m("userId","==",o),m("receiptId","==",e)),u=await h(n),f=new Set(u.docs.map(r=>r.data().name));let i=0;for(const r of t){if(!r.name)continue;const d=r.name.toLowerCase();f.has(d)||(await p(s(c,"pantry"),{userId:o,name:d,source:"receipt",receiptId:e,storeName:a||"Unknown Store",category:r.category||null,createdAt:y()}),i++)}return i}catch(n){throw console.error("Error adding receipt items to pantry:",n),n}},x=async(o,e)=>{try{if(!e||e.length===0)return 0;let t=0;for(const a of e)a&&(await p(s(c,"pantry"),{userId:o,name:a.toLowerCase(),source:"photo",createdAt:y()}),t++);return t}catch(t){throw console.error("Error adding photo items to pantry:",t),t}};export{w as a,x as b};
