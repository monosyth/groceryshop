import{r as g,ak as $o,al as jt,am as Oo,g as zt,a as Pt,u as wt,j as e,c as it,_ as We,b as Lt,s as ie,Z as we,an as ko,aj as Vt,P as vo,I as Ke,ao as zo,ap as Po,aq as wo,d as So,B as b,y as te,Q as Lo,R as Ao,ar as Bo,af as oo,as as Fo,ag as Gt,q as Ut,z as Ro,w as p,U as pe,V as so,O as qt,T as O,X as ze,x as $t,F as W,D as Pe,W as To,at as Wo,N as _,C as ot,E as be,M as ro,L as no,K as io,J as ao,ah as Mo,S as Do,G as No,l as Ge,p as Eo,n as Ho,m as lo,k as Ot,o as co}from"./index-BugtZPxr.js";import{S as nt,L as Vo,a as Go}from"./ShoppingBag-Dagl9cex.js";import{c as po}from"./geminiService-CitDXh9M.js";import{C as Te,a as Ue}from"./CardContent-SvSXiK-s.js";import{A as Uo,f as st,i as qe,o as uo,a as Kt,T as kt}from"./TextField-Dk5mJdGW.js";import{a as _t}from"./useFormControl-Ccz3v5v6.js";import{P as Co}from"./Popper-B1P2CMB9.js";import{C as se}from"./Chip-pSwn2DP9.js";import{A as qo}from"./Add-ROHADGrl.js";import{G as Ko,S as _o,E as Qo,B as Yo,A as Jo,I as fo,L as Xo,F as Zo,C as es}from"./SetMeal-CPdaW2fI.js";import{C as ft}from"./Checkbox-_zyBK4us.js";import{D as gt}from"./Delete-CBStAulL.js";import{D as ts}from"./Divider-Dikv2zsu.js";import{C as os}from"./CheckCircle-Dx6h--Mi.js";function ss(t){const i=g.useRef({});return g.useEffect(()=>{i.current=t}),i.current}function go({array1:t,array2:i,parser:d=h=>h}){return t&&i&&t.length===i.length&&t.every((h,v)=>d(h)===d(i[v]))}function xo(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function rs(t={}){const{ignoreAccents:i=!0,ignoreCase:d=!0,limit:h,matchFrom:v="any",stringify:A,trim:w=!1}=t;return(z,{inputValue:F,getOptionLabel:B})=>{let $=w?F.trim():F;d&&($=$.toLowerCase()),i&&($=xo($));const H=$?z.filter(Q=>{let I=(A||B)(Q);return d&&(I=I.toLowerCase()),i&&(I=xo(I)),v==="start"?I.startsWith($):I.includes($)}):z;return typeof h=="number"?H.slice(0,h):H}}const ns=rs(),ho=5,is=t=>t.current!==null&&t.current.parentElement?.contains(document.activeElement),as=[];function mo(t,i,d,h){if(i||t==null||h)return"";const v=d(t);return typeof v=="string"?v:""}function ls(t){const{unstable_isActiveElementInListbox:i=is,unstable_classNamePrefix:d="Mui",autoComplete:h=!1,autoHighlight:v=!1,autoSelect:A=!1,blurOnSelect:w=!1,clearOnBlur:z=!t.freeSolo,clearOnEscape:F=!1,componentName:B="useAutocomplete",defaultValue:$=t.multiple?as:null,disableClearable:H=!1,disableCloseOnSelect:Q=!1,disabled:I,disabledItemsFocusable:ae=!1,disableListWrap:le=!1,filterOptions:Y=ns,filterSelectedOptions:ue=!1,freeSolo:D=!1,getOptionDisabled:J,getOptionKey:ne,getOptionLabel:M=r=>r.label??r,groupBy:X,handleHomeEndKeys:Z=!t.freeSolo,id:k,includeInputInList:ce=!1,inputValue:V,isOptionEqualToValue:Se=(r,s)=>r===s,multiple:S=!1,onChange:at,onClose:Qe,onHighlightChange:ye,onInputChange:G,onOpen:Ye,open:xt,openOnFocus:Me=!1,options:fe,readOnly:de=!1,renderValue:N,selectOnFocus:De=!t.freeSolo,value:Ce}=t,U=$o(k);let o=M;o=r=>{const s=M(r);return typeof s!="string"?String(s):s};const n=g.useRef(!1),a=g.useRef(!0),c=g.useRef(null),m=g.useRef(null),[R,ht]=g.useState(null),[re,Ne]=g.useState(-1),At=v?0:-1,ee=g.useRef(At),Jt=g.useRef(mo($??Ce,S,o)).current,[u,Bt]=_t({controlled:Ce,default:$,name:B}),[j,Ie]=_t({controlled:V,default:Jt,name:B,state:"inputValue"}),[Je,mt]=g.useState(!1),Xe=g.useCallback((r,s,l)=>{if(!(S?u.length<s.length:s!==null)&&!z)return;const x=mo(s,S,o,N);j!==x&&(Ie(x),G&&G(r,x,l))},[o,j,S,G,Ie,z,u,N]),[je,Ee]=_t({controlled:xt,default:!1,name:B,state:"open"}),[Xt,Ze]=g.useState(!0),bt=!S&&u!=null&&j===o(u),oe=je&&!de,L=oe?Y(fe.filter(r=>!(ue&&(S?u:[u]).some(s=>s!==null&&Se(r,s)))),{inputValue:bt&&Xt?"":j,getOptionLabel:o}):[],ge=ss({filteredOptions:L,value:u,inputValue:j});g.useEffect(()=>{const r=u!==ge.value;Je&&!r||D&&!r||Xe(null,u,"reset")},[u,Xe,Je,ge.value,D]);const yt=je&&L.length>0&&!de,ve=jt(r=>{if(r===-1)c.current.focus();else{const s=N?"data-item-index":"data-tag-index";R.querySelector(`[${s}="${r}"]`).focus()}});g.useEffect(()=>{S&&re>u.length-1&&(Ne(-1),ve(-1))},[u,S,re,ve]);function Ft(r,s){if(!m.current||r<0||r>=L.length)return-1;let l=r;for(;;){const f=m.current.querySelector(`[data-option-index="${l}"]`),x=ae?!1:!f||f.disabled||f.getAttribute("aria-disabled")==="true";if(f&&f.hasAttribute("tabindex")&&!x)return l;if(s==="next"?l=(l+1)%L.length:l=(l-1+L.length)%L.length,l===r)return-1}}const $e=jt(({event:r,index:s,reason:l})=>{if(ee.current=s,s===-1?c.current.removeAttribute("aria-activedescendant"):c.current.setAttribute("aria-activedescendant",`${U}-option-${s}`),ye&&["mouse","keyboard","touch"].includes(l)&&ye(r,s===-1?null:L[s],l),!m.current)return;const f=m.current.querySelector(`[role="option"].${d}-focused`);f&&(f.classList.remove(`${d}-focused`),f.classList.remove(`${d}-focusVisible`));let x=m.current;if(m.current.getAttribute("role")!=="listbox"&&(x=m.current.parentElement.querySelector('[role="listbox"]')),!x)return;if(s===-1){x.scrollTop=0;return}const K=m.current.querySelector(`[data-option-index="${s}"]`);if(K&&(K.classList.add(`${d}-focused`),l==="keyboard"&&K.classList.add(`${d}-focusVisible`),x.scrollHeight>x.clientHeight&&l!=="mouse"&&l!=="touch")){const T=K,me=x.clientHeight+x.scrollTop,It=T.offsetTop+T.offsetHeight;It>me?x.scrollTop=It-x.clientHeight:T.offsetTop-T.offsetHeight*(X?1.3:0)<x.scrollTop&&(x.scrollTop=T.offsetTop-T.offsetHeight*(X?1.3:0))}}),xe=jt(({event:r,diff:s,direction:l="next",reason:f})=>{if(!oe)return;const K=Ft((()=>{const T=L.length-1;if(s==="reset")return At;if(s==="start")return 0;if(s==="end")return T;const me=ee.current+s;return me<0?me===-1&&ce?-1:le&&ee.current!==-1||Math.abs(s)>1?0:T:me>T?me===T+1&&ce?-1:le||Math.abs(s)>1?T:0:me})(),l);if($e({index:K,reason:f,event:r}),h&&s!=="reset")if(K===-1)c.current.value=j;else{const T=o(L[K]);c.current.value=T,T.toLowerCase().indexOf(j.toLowerCase())===0&&j.length>0&&c.current.setSelectionRange(j.length,T.length)}}),vt=!go({array1:ge.filteredOptions,array2:L,parser:o}),Rt=()=>{const r=(s,l)=>{const f=s?o(s):"",x=l?o(l):"";return f===x};if(ee.current!==-1&&!go({array1:ge.filteredOptions,array2:L,parser:o})&&ge.inputValue===j&&(S?u.length===ge.value.length&&ge.value.every((s,l)=>o(u[l])===o(s)):r(ge.value,u))){const s=ge.filteredOptions[ee.current];if(s)return L.findIndex(l=>o(l)===o(s))}return-1},lt=g.useCallback(()=>{if(!oe)return;const r=Rt();if(r!==-1){ee.current=r;return}const s=S?u[0]:u;if(L.length===0||s==null){xe({diff:"reset"});return}if(m.current){if(s!=null){const l=L[ee.current];if(S&&l&&u.findIndex(x=>Se(l,x))!==-1)return;const f=L.findIndex(x=>Se(x,s));f===-1?xe({diff:"reset"}):$e({index:f});return}if(ee.current>=L.length-1){$e({index:L.length-1});return}$e({index:ee.current})}},[L.length,S?!1:u,xe,$e,oe,j,S]),Le=jt(r=>{Oo(m,r),r&&lt()});g.useEffect(()=>{(vt||oe)&&lt()},[lt,vt,oe]);const Oe=r=>{je||(Ee(!0),Ze(!0),Ye&&Ye(r))},He=(r,s)=>{je&&(Ee(!1),Qe&&Qe(r,s))},he=(r,s,l,f)=>{if(S){if(u.length===s.length&&u.every((x,K)=>x===s[K]))return}else if(u===s)return;at&&at(r,s,l,f),Bt(s)},ke=g.useRef(!1),Ae=(r,s,l="selectOption",f="options")=>{let x=l,K=s;if(S){K=Array.isArray(u)?u.slice():[];const T=K.findIndex(me=>Se(s,me));T===-1?K.push(s):f!=="freeSolo"&&(K.splice(T,1),x="removeOption")}Xe(r,K,x),he(r,K,x,{option:s}),!Q&&(!r||!r.ctrlKey&&!r.metaKey)&&He(r,x),(w===!0||w==="touch"&&ke.current||w==="mouse"&&!ke.current)&&c.current.blur()};function Tt(r,s){if(r===-1)return-1;let l=r;for(;;){if(s==="next"&&l===u.length||s==="previous"&&l===-1)return-1;const f=N?"data-item-index":"data-tag-index",x=R.querySelector(`[${f}="${l}"]`);if(!x||!x.hasAttribute("tabindex")||x.disabled||x.getAttribute("aria-disabled")==="true")l+=s==="next"?1:-1;else return l}}const Ve=(r,s)=>{if(!S)return;j===""&&He(r,"toggleInput");let l=re;re===-1&&s==="previous"?(l=u.length-1,D&&j!==""&&(Ie(""),G&&G(r,"","reset"))):(l+=s==="next"?1:-1,l<0&&(l=0),l===u.length&&(l=-1)),l=Tt(l,s),Ne(l),ve(l)},St=r=>{n.current=!0,Ie(""),G&&G(r,"","clear"),he(r,S?[]:null,"clear")},Wt=r=>s=>{if(r.onKeyDown&&r.onKeyDown(s),!s.defaultMuiPrevented&&(re!==-1&&!["ArrowLeft","ArrowRight"].includes(s.key)&&(Ne(-1),ve(-1)),s.which!==229))switch(s.key){case"Home":oe&&Z&&(s.preventDefault(),xe({diff:"start",direction:"next",reason:"keyboard",event:s}));break;case"End":oe&&Z&&(s.preventDefault(),xe({diff:"end",direction:"previous",reason:"keyboard",event:s}));break;case"PageUp":s.preventDefault(),xe({diff:-ho,direction:"previous",reason:"keyboard",event:s}),Oe(s);break;case"PageDown":s.preventDefault(),xe({diff:ho,direction:"next",reason:"keyboard",event:s}),Oe(s);break;case"ArrowDown":s.preventDefault(),xe({diff:1,direction:"next",reason:"keyboard",event:s}),Oe(s);break;case"ArrowUp":s.preventDefault(),xe({diff:-1,direction:"previous",reason:"keyboard",event:s}),Oe(s);break;case"ArrowLeft":{const l=c.current;if(!(l&&l.selectionStart===0&&l.selectionEnd===0))return;!S&&N&&u!=null?(D&&j!==""&&(Ie(""),G&&G(s,"","reset")),Ne(0),ve(0)):Ve(s,"previous");break}case"ArrowRight":!S&&N?(Ne(-1),ve(-1)):Ve(s,"next");break;case"Enter":if(ee.current!==-1&&oe){const l=L[ee.current],f=J?J(l):!1;if(s.preventDefault(),f)return;Ae(s,l,"selectOption"),h&&c.current.setSelectionRange(c.current.value.length,c.current.value.length)}else D&&j!==""&&bt===!1&&(S&&s.preventDefault(),Ae(s,j,"createOption","freeSolo"));break;case"Escape":oe?(s.preventDefault(),s.stopPropagation(),He(s,"escape")):F&&(j!==""||S&&u.length>0||N)&&(s.preventDefault(),s.stopPropagation(),St(s));break;case"Backspace":if(S&&!de&&j===""&&u.length>0){const l=re===-1?u.length-1:re,f=u.slice();f.splice(l,1),he(s,f,"removeOption",{option:u[l]})}!S&&N&&!de&&j===""&&he(s,null,"removeOption",{option:u});break;case"Delete":if(S&&!de&&j===""&&u.length>0&&re!==-1){const l=re,f=u.slice();f.splice(l,1),he(s,f,"removeOption",{option:u[l]})}!S&&N&&!de&&j===""&&he(s,null,"removeOption",{option:u});break}},et=r=>{mt(!0),re!==-1&&(Ne(-1),ve(-1)),Me&&!n.current&&Oe(r)},tt=r=>{if(i(m)){c.current.focus();return}mt(!1),a.current=!0,n.current=!1,A&&ee.current!==-1&&oe?Ae(r,L[ee.current],"blur"):A&&D&&j!==""?Ae(r,j,"blur","freeSolo"):z&&Xe(r,u,"blur"),He(r,"blur")},ct=r=>{const s=r.target.value;j!==s&&(Ie(s),Ze(!1),G&&G(r,s,"input")),s===""?!H&&!S&&!N&&he(r,null,"clear"):Oe(r)},Mt=r=>{const s=Number(r.currentTarget.getAttribute("data-option-index"));ee.current!==s&&$e({event:r,index:s,reason:"mouse"})},Dt=r=>{$e({event:r,index:Number(r.currentTarget.getAttribute("data-option-index")),reason:"touch"}),ke.current=!0},Nt=r=>{const s=Number(r.currentTarget.getAttribute("data-option-index"));Ae(r,L[s],"selectOption"),ke.current=!1},Et=r=>s=>{const l=u.slice();l.splice(r,1),he(s,l,"removeOption",{option:u[r]})},dt=r=>{he(r,null,"removeOption",{option:u})},E=r=>{je?He(r,"toggleInput"):Oe(r)},q=r=>{r.currentTarget.contains(r.target)&&r.target.getAttribute("id")!==U&&r.preventDefault()},Be=r=>{r.currentTarget.contains(r.target)&&(c.current.focus(),De&&a.current&&c.current.selectionEnd-c.current.selectionStart===0&&c.current.select(),a.current=!1)},Ht=r=>{!I&&(j===""||!je)&&E(r)};let pt=D&&j.length>0;pt=pt||(S?u.length>0:u!==null);let Ct=L;return X&&(Ct=L.reduce((r,s,l)=>{const f=X(s);return r.length>0&&r[r.length-1].group===f?r[r.length-1].options.push(s):r.push({key:l,index:l,group:f,options:[s]}),r},[])),I&&Je&&tt(),{getRootProps:(r={})=>({...r,onKeyDown:Wt(r),onMouseDown:q,onClick:Be}),getInputLabelProps:()=>({id:`${U}-label`,htmlFor:U}),getInputProps:()=>({id:U,value:j,onBlur:tt,onFocus:et,onChange:ct,onMouseDown:Ht,"aria-activedescendant":oe?"":null,"aria-autocomplete":h?"both":"list","aria-controls":yt?`${U}-listbox`:void 0,"aria-expanded":yt,autoComplete:"off",ref:c,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:I}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:St}),getItemProps:({index:r=0}={})=>({...S&&{key:r},...N?{"data-item-index":r}:{"data-tag-index":r},tabIndex:-1,...!de&&{onDelete:S?Et(r):dt}}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:E}),getTagProps:({index:r})=>({key:r,"data-tag-index":r,tabIndex:-1,...!de&&{onDelete:Et(r)}}),getListboxProps:()=>({role:"listbox",id:`${U}-listbox`,"aria-labelledby":`${U}-label`,ref:Le,onMouseDown:r=>{r.preventDefault()}}),getOptionProps:({index:r,option:s})=>{const l=(S?u:[u]).some(x=>x!=null&&Se(s,x)),f=J?J(s):!1;return{key:ne?.(s)??o(s),tabIndex:-1,role:"option",id:`${U}-option-${r}`,onMouseMove:Mt,onClick:Nt,onTouchStart:Dt,"data-option-index":r,"aria-disabled":f,"aria-selected":l}},id:U,inputValue:j,value:u,dirty:pt,expanded:oe&&R,popupOpen:oe,focused:Je||re!==-1,anchorEl:R,setAnchorEl:ht,focusedItem:re,focusedTag:re,groupedOptions:Ct}}function cs(t){return zt("MuiListSubheader",t)}Pt("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const ds=t=>{const{classes:i,color:d,disableGutters:h,inset:v,disableSticky:A}=t,w={root:["root",d!=="default"&&`color${We(d)}`,!h&&"gutters",v&&"inset",!A&&"sticky"]};return Lt(w,cs,i)},ps=ie("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(t,i)=>{const{ownerState:d}=t;return[i.root,d.color!=="default"&&i[`color${We(d.color)}`],!d.disableGutters&&i.gutters,d.inset&&i.inset,!d.disableSticky&&i.sticky]}})(we(({theme:t})=>({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(t.vars||t).palette.text.secondary,fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(14),variants:[{props:{color:"primary"},style:{color:(t.vars||t).palette.primary.main}},{props:{color:"inherit"},style:{color:"inherit"}},{props:({ownerState:i})=>!i.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:i})=>i.inset,style:{paddingLeft:72}},{props:({ownerState:i})=>!i.disableSticky,style:{position:"sticky",top:0,zIndex:1,backgroundColor:(t.vars||t).palette.background.paper}}]}))),Yt=g.forwardRef(function(i,d){const h=wt({props:i,name:"MuiListSubheader"}),{className:v,color:A="default",component:w="li",disableGutters:z=!1,disableSticky:F=!1,inset:B=!1,...$}=h,H={...h,color:A,component:w,disableGutters:z,disableSticky:F,inset:B},Q=ds(H);return e.jsx(ps,{as:w,className:it(Q.root,v),ref:d,ownerState:H,...$})});Yt&&(Yt.muiSkipListHighlight=!0);function us(t){return zt("MuiAutocomplete",t)}const y=Pt("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var bo,yo;const fs=t=>{const{classes:i,disablePortal:d,expanded:h,focused:v,fullWidth:A,hasClearIcon:w,hasPopupIcon:z,inputFocused:F,popupOpen:B,size:$}=t,H={root:["root",h&&"expanded",v&&"focused",A&&"fullWidth",w&&"hasClearIcon",z&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",F&&"inputFocused"],tag:["tag",`tagSize${We($)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",B&&"popupIndicatorOpen"],popper:["popper",d&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return Lt(H,us,i)},gs=ie("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(t,i)=>{const{ownerState:d}=t,{fullWidth:h,hasClearIcon:v,hasPopupIcon:A,inputFocused:w,size:z}=d;return[{[`& .${y.tag}`]:i.tag},{[`& .${y.tag}`]:i[`tagSize${We(z)}`]},{[`& .${y.inputRoot}`]:i.inputRoot},{[`& .${y.input}`]:i.input},{[`& .${y.input}`]:w&&i.inputFocused},i.root,h&&i.fullWidth,A&&i.hasPopupIcon,v&&i.hasClearIcon]}})({[`&.${y.focused} .${y.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${y.clearIndicator}`]:{visibility:"visible"}},[`& .${y.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${y.inputRoot}`]:{[`.${y.hasPopupIcon}&, .${y.hasClearIcon}&`]:{paddingRight:30},[`.${y.hasPopupIcon}.${y.hasClearIcon}&`]:{paddingRight:56},[`& .${y.input}`]:{width:0,minWidth:30}},[`& .${Kt.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${Kt.root}.${qe.sizeSmall}`]:{[`& .${Kt.input}`]:{padding:"2px 4px 3px 0"}},[`& .${uo.root}`]:{padding:9,[`.${y.hasPopupIcon}&, .${y.hasClearIcon}&`]:{paddingRight:39},[`.${y.hasPopupIcon}.${y.hasClearIcon}&`]:{paddingRight:65},[`& .${y.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${y.endAdornment}`]:{right:9}},[`& .${uo.root}.${qe.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${y.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${st.root}`]:{paddingTop:19,paddingLeft:8,[`.${y.hasPopupIcon}&, .${y.hasClearIcon}&`]:{paddingRight:39},[`.${y.hasPopupIcon}.${y.hasClearIcon}&`]:{paddingRight:65},[`& .${st.input}`]:{padding:"7px 4px"},[`& .${y.endAdornment}`]:{right:9}},[`& .${st.root}.${qe.sizeSmall}`]:{paddingBottom:1,[`& .${st.input}`]:{padding:"2.5px 4px"}},[`& .${qe.hiddenLabel}`]:{paddingTop:8},[`& .${st.root}.${qe.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${y.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${st.root}.${qe.hiddenLabel}.${qe.sizeSmall}`]:{[`& .${y.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${y.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${y.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${y.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${y.inputRoot}`]:{flexWrap:"wrap"}}}]}),xs=ie("div",{name:"MuiAutocomplete",slot:"EndAdornment"})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),hs=ie(Ke,{name:"MuiAutocomplete",slot:"ClearIndicator"})({marginRight:-2,padding:4,visibility:"hidden"}),ms=ie(Ke,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(t,i)=>{const{ownerState:d}=t;return[i.popupIndicator,d.popupOpen&&i.popupIndicatorOpen]}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),bs=ie(Co,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(t,i)=>{const{ownerState:d}=t;return[{[`& .${y.option}`]:i.option},i.popper,d.disablePortal&&i.popperDisablePortal]}})(we(({theme:t})=>({zIndex:(t.vars||t).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}))),ys=ie(vo,{name:"MuiAutocomplete",slot:"Paper"})(we(({theme:t})=>({...t.typography.body1,overflow:"auto"}))),vs=ie("div",{name:"MuiAutocomplete",slot:"Loading"})(we(({theme:t})=>({color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}))),Ss=ie("div",{name:"MuiAutocomplete",slot:"NoOptions"})(we(({theme:t})=>({color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}))),Cs=ie("ul",{name:"MuiAutocomplete",slot:"Listbox"})(we(({theme:t})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${y.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[t.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${y.focused}`]:{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${y.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),[`&.${y.focused}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:(t.vars||t).palette.action.selected}},[`&.${y.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}}}}))),Is=ie(Yt,{name:"MuiAutocomplete",slot:"GroupLabel"})(we(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,top:-8}))),js=ie("ul",{name:"MuiAutocomplete",slot:"GroupUl"})({padding:0,[`& .${y.option}`]:{paddingLeft:24}}),$s=g.forwardRef(function(i,d){const h=wt({props:i,name:"MuiAutocomplete"}),{autoComplete:v=!1,autoHighlight:A=!1,autoSelect:w=!1,blurOnSelect:z=!1,ChipProps:F,className:B,clearIcon:$=bo||(bo=e.jsx(ko,{fontSize:"small"})),clearOnBlur:H=!h.freeSolo,clearOnEscape:Q=!1,clearText:I="Clear",closeText:ae="Close",componentsProps:le,defaultValue:Y=h.multiple?[]:null,disableClearable:ue=!1,disableCloseOnSelect:D=!1,disabled:J=!1,disabledItemsFocusable:ne=!1,disableListWrap:M=!1,disablePortal:X=!1,filterOptions:Z,filterSelectedOptions:k=!1,forcePopupIcon:ce="auto",freeSolo:V=!1,fullWidth:Se=!1,getLimitTagsText:S=C=>`+${C}`,getOptionDisabled:at,getOptionKey:Qe,getOptionLabel:ye,isOptionEqualToValue:G,groupBy:Ye,handleHomeEndKeys:xt=!h.freeSolo,id:Me,includeInputInList:fe=!1,inputValue:de,limitTags:N=-1,ListboxComponent:De,ListboxProps:Ce,loading:U=!1,loadingText:o="Loading…",multiple:n=!1,noOptionsText:a="No options",onChange:c,onClose:m,onHighlightChange:R,onInputChange:ht,onOpen:re,open:Ne,openOnFocus:At=!1,openText:ee="Open",options:Jt,PaperComponent:u,PopperComponent:Bt,popupIcon:j=yo||(yo=e.jsx(Uo,{})),readOnly:Ie=!1,renderGroup:Je,renderInput:mt,renderOption:Xe,renderTags:je,renderValue:Ee,selectOnFocus:Xt=!h.freeSolo,size:Ze="medium",slots:bt={},slotProps:oe={},value:L,...ge}=h,{getRootProps:yt,getInputProps:ve,getInputLabelProps:Ft,getPopupIndicatorProps:$e,getClearProps:xe,getItemProps:vt,getListboxProps:Rt,getOptionProps:lt,value:Le,dirty:Oe,expanded:He,id:he,popupOpen:ke,focused:Ae,focusedItem:Tt,anchorEl:Ve,setAnchorEl:St,inputValue:Wt,groupedOptions:et}=ls({...h,componentName:"Autocomplete"}),tt=!ue&&!J&&Oe&&!Ie,ct=(!V||ce===!0)&&ce!==!1,{onMouseDown:Mt}=ve(),{ref:Dt,...Nt}=Rt(),dt=ye||(C=>C.label??C),E={...h,disablePortal:X,expanded:He,focused:Ae,fullWidth:Se,getOptionLabel:dt,hasClearIcon:tt,hasPopupIcon:ct,inputFocused:Tt===-1,popupOpen:ke,size:Ze},q=fs(E),Be={slots:{paper:u,popper:Bt,...bt},slotProps:{chip:F,listbox:Ce,...le,...oe}},[Ht,pt]=Vt("listbox",{elementType:Cs,externalForwardedProps:Be,ownerState:E,className:q.listbox,additionalProps:Nt,ref:Dt}),[Ct,r]=Vt("paper",{elementType:vo,externalForwardedProps:Be,ownerState:E,className:q.paper}),[s,l]=Vt("popper",{elementType:Co,externalForwardedProps:Be,ownerState:E,className:q.popper,additionalProps:{disablePortal:X,style:{width:Ve?Ve.clientWidth:null},role:"presentation",anchorEl:Ve,open:ke}});let f;const x=C=>({className:q.tag,disabled:J,...vt(C)});if(n?Le.length>0&&(je?f=je(Le,x,E):Ee?f=Ee(Le,x,E):f=Le.map((C,Fe)=>{const{key:Re,...ut}=x({index:Fe});return e.jsx(se,{label:dt(C),size:Ze,...ut,...Be.slotProps.chip},Re)})):Ee&&Le!=null&&(f=Ee(Le,x,E)),N>-1&&Array.isArray(f)){const C=f.length-N;!Ae&&C>0&&(f=f.splice(0,N),f.push(e.jsx("span",{className:q.tag,children:S(C)},f.length)))}const T=Je||(C=>e.jsxs("li",{children:[e.jsx(Is,{className:q.groupLabel,ownerState:E,component:"div",children:C.group}),e.jsx(js,{className:q.groupUl,ownerState:E,children:C.children})]},C.key)),It=Xe||((C,Fe)=>{const{key:Re,...ut}=C;return e.jsx("li",{...ut,children:dt(Fe)},Re)}),Zt=(C,Fe)=>{const Re=lt({option:C,index:Fe});return It({...Re,className:q.option},C,{selected:Re["aria-selected"],index:Fe,inputValue:Wt},E)},eo=Be.slotProps.clearIndicator,to=Be.slotProps.popupIndicator;return e.jsxs(g.Fragment,{children:[e.jsx(gs,{ref:d,className:it(q.root,B),ownerState:E,...yt(ge),children:mt({id:he,disabled:J,fullWidth:!0,size:Ze==="small"?"small":void 0,InputLabelProps:Ft(),InputProps:{ref:St,className:q.inputRoot,startAdornment:f,onMouseDown:C=>{C.target===C.currentTarget&&Mt(C)},...(tt||ct)&&{endAdornment:e.jsxs(xs,{className:q.endAdornment,ownerState:E,children:[tt?e.jsx(hs,{...xe(),"aria-label":I,title:I,ownerState:E,...eo,className:it(q.clearIndicator,eo?.className),children:$}):null,ct?e.jsx(ms,{...$e(),disabled:J,"aria-label":ke?ae:ee,title:ke?ae:ee,ownerState:E,...to,className:it(q.popupIndicator,to?.className),children:j}):null]})}},inputProps:{className:q.input,disabled:J,readOnly:Ie,...ve()}})}),Ve?e.jsx(bs,{as:s,...l,children:e.jsxs(ys,{as:Ct,...r,children:[U&&et.length===0?e.jsx(vs,{className:q.loading,ownerState:E,children:o}):null,et.length===0&&!V&&!U?e.jsx(Ss,{className:q.noOptions,ownerState:E,role:"presentation",onMouseDown:C=>{C.preventDefault()},children:a}):null,et.length>0?e.jsx(Ht,{as:De,...pt,children:et.map((C,Fe)=>Ye?T({key:C.key,group:C.group,children:C.options.map((Re,ut)=>Zt(Re,C.index+ut))}):Zt(C,Fe))}):null]})}):null]})});function Os(t){return g.Children.toArray(t).filter(i=>g.isValidElement(i))}function ks(t){return zt("MuiToggleButton",t)}const _e=Pt("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),Io=g.createContext({}),jo=g.createContext(void 0);function zs(t,i){return i===void 0||t===void 0?!1:Array.isArray(i)?i.includes(t):t===i}const Ps=t=>{const{classes:i,fullWidth:d,selected:h,disabled:v,size:A,color:w}=t,z={root:["root",h&&"selected",v&&"disabled",d&&"fullWidth",`size${We(A)}`,w]};return Lt(z,ks,i)},ws=ie(Po,{name:"MuiToggleButton",slot:"Root",overridesResolver:(t,i)=>{const{ownerState:d}=t;return[i.root,i[`size${We(d.size)}`]]}})(we(({theme:t})=>({...t.typography.button,borderRadius:(t.vars||t).shape.borderRadius,padding:11,border:`1px solid ${(t.vars||t).palette.divider}`,color:(t.vars||t).palette.action.active,[`&.${_e.disabled}`]:{color:(t.vars||t).palette.action.disabled,border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${_e.selected}`]:{color:(t.vars||t).palette.text.primary,backgroundColor:t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.selectedOpacity),"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.text.primary,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.selectedOpacity)}}}}},...Object.entries(t.palette).filter(wo()).map(([i])=>({props:{color:i},style:{[`&.${_e.selected}`]:{color:(t.vars||t).palette[i].main,backgroundColor:t.alpha((t.vars||t).palette[i].main,(t.vars||t).palette.action.selectedOpacity),"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[i].main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:t.alpha((t.vars||t).palette[i].main,(t.vars||t).palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:t.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:t.typography.pxToRem(15)}}]}))),Qt=g.forwardRef(function(i,d){const{value:h,...v}=g.useContext(Io),A=g.useContext(jo),w=zo({...v,selected:zs(i.value,h)},i),z=wt({props:w,name:"MuiToggleButton"}),{children:F,className:B,color:$="standard",disabled:H=!1,disableFocusRipple:Q=!1,fullWidth:I=!1,onChange:ae,onClick:le,selected:Y,size:ue="medium",value:D,...J}=z,ne={...z,color:$,disabled:H,disableFocusRipple:Q,fullWidth:I,size:ue},M=Ps(ne),X=k=>{le&&(le(k,D),k.defaultPrevented)||ae&&ae(k,D)},Z=A||"";return e.jsx(ws,{className:it(v.className,M.root,B,Z),disabled:H,focusRipple:!Q,ref:d,onClick:X,onChange:ae,value:D,ownerState:ne,"aria-pressed":Y,...J,children:F})});function Ls(t){return zt("MuiToggleButtonGroup",t)}const P=Pt("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),As=t=>{const{classes:i,orientation:d,fullWidth:h,disabled:v}=t,A={root:["root",d,h&&"fullWidth"],grouped:["grouped",`grouped${We(d)}`,v&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return Lt(A,Ls,i)},Bs=ie("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(t,i)=>{const{ownerState:d}=t;return[{[`& .${P.grouped}`]:i.grouped},{[`& .${P.grouped}`]:i[`grouped${We(d.orientation)}`]},{[`& .${P.firstButton}`]:i.firstButton},{[`& .${P.lastButton}`]:i.lastButton},{[`& .${P.middleButton}`]:i.middleButton},i.root,d.orientation==="vertical"&&i.vertical,d.fullWidth&&i.fullWidth]}})(we(({theme:t})=>({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${P.grouped}`]:{[`&.${P.selected} + .${P.grouped}.${P.selected}`]:{borderTop:0,marginTop:0}},[`& .${P.firstButton},& .${P.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${P.lastButton},& .${P.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${P.lastButton}.${_e.disabled},& .${P.middleButton}.${_e.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${P.grouped}`]:{[`&.${P.selected} + .${P.grouped}.${P.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${P.firstButton},& .${P.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${P.lastButton},& .${P.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${P.lastButton}.${_e.disabled},& .${P.middleButton}.${_e.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),Fs=g.forwardRef(function(i,d){const h=wt({props:i,name:"MuiToggleButtonGroup"}),{children:v,className:A,color:w="standard",disabled:z=!1,exclusive:F=!1,fullWidth:B=!1,onChange:$,orientation:H="horizontal",size:Q="medium",value:I,...ae}=h,le={...h,disabled:z,fullWidth:B,orientation:H,size:Q},Y=As(le),ue=g.useCallback((Z,k)=>{if(!$)return;const ce=I&&I.indexOf(k);let V;I&&ce>=0?(V=I.slice(),V.splice(ce,1)):V=I?I.concat(k):[k],$(Z,V)},[$,I]),D=g.useCallback((Z,k)=>{$&&$(Z,I===k?null:k)},[$,I]),J=g.useMemo(()=>({className:Y.grouped,onChange:F?D:ue,value:I,size:Q,fullWidth:B,color:w,disabled:z}),[Y.grouped,F,D,ue,I,Q,B,w,z]),ne=Os(v),M=ne.length,X=Z=>{const k=Z===0,ce=Z===M-1;return k&&ce?"":k?Y.firstButton:ce?Y.lastButton:Y.middleButton};return e.jsx(Bs,{role:"group",className:it(Y.root,A),ref:d,ownerState:le,...ae,children:e.jsx(Io.Provider,{value:J,children:ne.map((Z,k)=>e.jsx(jo.Provider,{value:X(k),children:Z},k))})})}),rt=So(e.jsx("path",{d:"M20 4H4v2h16zm1 10v-2l-1-5H4l-1 5v2h1v6h10v-6h4v6h2v-6zm-9 4H6v-4h6z"})),Rs=So(e.jsx("path",{d:"M3 14h4v-4H3zm0 5h4v-4H3zM3 9h4V5H3zm5 5h13v-4H8zm0 5h13v-4H8zM8 5v4h13V5z"}));function Ts(){return e.jsxs(b,{sx:{display:"flex",alignItems:"center",gap:1.5,py:1.5,borderBottom:`1px solid ${te.borderLight}`},children:[e.jsx(nt,{variant:"circular",width:40,height:40}),e.jsxs(b,{sx:{flex:1},children:[e.jsx(nt,{variant:"text",width:"70%",height:20}),e.jsx(nt,{variant:"text",width:"40%",height:16})]}),e.jsx(nt,{variant:"circular",width:32,height:32})]})}function Ws(){return e.jsxs(b,{sx:{display:"flex",alignItems:"center",py:.75,borderBottom:`1px solid ${te.borderLight}`},children:[e.jsx(nt,{variant:"circular",width:42,height:42,sx:{mr:1.5}}),e.jsx(nt,{variant:"text",width:"60%",height:20})]})}function Ms({count:t=5,component:i=Ts}){return e.jsx(b,{children:Array.from({length:t}).map((d,h)=>e.jsx(i,{},h))})}function Zs(){const{currentUser:t}=Lo(),{receipts:i}=Ao(),{householdId:d,hasHousehold:h}=Bo(),[v,A]=g.useState([]),[w,z]=g.useState(!0),[F,B]=g.useState(""),[$,H]=g.useState(""),[Q,I]=g.useState("other"),[ae,le]=g.useState(""),[Y,ue]=g.useState(!1),[D,J]=g.useState(!1),[ne,M]=g.useState({open:!1,message:"",severity:"info"}),[X,Z]=g.useState(!1),[k,ce]=g.useState("location"),V=[{value:"produce",label:"Produce",icon:Ko,color:p.main,bg:p.bg},{value:"meat",label:"Meat & Seafood",icon:_o,color:ot.main,bg:ot.bg},{value:"dairy",label:"Dairy & Eggs",icon:Qo,color:_.main,bg:_.bg},{value:"bakery",label:"Bakery",icon:Yo,color:be.main,bg:be.bg},{value:"frozen",label:"Frozen",icon:Jo,color:ro.main,bg:ro.bg},{value:"pantry",label:"Pantry",icon:fo,color:no.main,bg:no.bg},{value:"beverages",label:"Beverages",icon:Xo,color:io.main,bg:io.bg},{value:"snacks",label:"Snacks",icon:Zo,color:ao.main,bg:ao.bg},{value:"household",label:"Household",icon:es,color:W.main,bg:W.bg},{value:"other",label:"Other",icon:fo,color:W.main,bg:W.bg}],Se=i.filter(o=>o.storeInfo?.name),S=g.useMemo(()=>{const o=new Map;return i.forEach(n=>{const a=n.storeInfo?.name;n.items?.forEach(c=>{if(c.name){const m=c.name.toLowerCase();o.has(m)||o.set(m,{name:c.name,stores:new Set}),a&&o.get(m).stores.add(a)}})}),v.forEach(n=>{if(n.name){const a=n.name.toLowerCase();o.has(a)||o.set(a,{name:n.name,stores:new Set})}}),Array.from(o.values()).map(n=>({name:n.name,stores:Array.from(n.stores),suggestedStore:n.stores.size>0?Array.from(n.stores)[0]:null})).sort((n,a)=>n.name.localeCompare(a.name))},[i,v]);g.useEffect(()=>{if(!t)return;let o;h&&d?o=oo(Ut(Ge,"shoppingList"),Fo(Gt("householdId","==",d),Gt("userId","==",t.uid))):o=oo(Ut(Ge,"shoppingList"),Gt("userId","==",t.uid));const n=Ro(o,a=>{const c=[];a.forEach(m=>{c.push({id:m.id,...m.data()})}),c.sort((m,R)=>{const ht=m.createdAt?.toDate()||new Date(0);return(R.createdAt?.toDate()||new Date(0))-ht}),A(c),z(!1)},a=>{console.error("Error fetching shopping list:",a),z(!1)});return()=>n()},[t,d,h]);const at=o=>{const n=o.toLowerCase(),a=[];if(i.forEach(m=>{m.items?.forEach(R=>{(R.name?.toLowerCase().includes(n)||n.includes(R.name?.toLowerCase()))&&R.price&&R.price>0&&a.push(R.price)})}),a.length===0)return null;const c=a.reduce((m,R)=>m+R,0)/a.length;return Math.round(c*100)/100},Qe=async()=>{if(F.trim()){ue(!0);try{const o=at(F.trim());let n=Q;Q==="other"&&(n=await po(F.trim())),await Eo(Ut(Ge,"shoppingList"),{userId:t.uid,householdId:d||null,name:F.trim(),quantity:$.trim()||null,category:n,notes:ae.trim()||null,estimatedPrice:o,checked:!1,manual:!0,createdAt:Ho()}),B(""),H(""),I("other"),le(""),Z(!1),M({open:!0,message:"Item added to shopping list!",severity:"success"})}catch(o){console.error("Error adding item:",o),M({open:!0,message:"Failed to add item",severity:"error"})}finally{ue(!1)}}},ye=async(o,n)=>{try{await lo(Ot(Ge,"shoppingList",o),{checked:!n})}catch(a){console.error("Error updating item:",a),M({open:!0,message:"Failed to update item",severity:"error"})}},G=async o=>{try{await co(Ot(Ge,"shoppingList",o)),M({open:!0,message:"Item removed from shopping list",severity:"success"})}catch(n){console.error("Error deleting item:",n),M({open:!0,message:"Failed to remove item",severity:"error"})}},Ye=async()=>{const o=v.filter(n=>n.checked);try{const n=o.map(a=>co(Ot(Ge,"shoppingList",a.id)));await Promise.all(n),M({open:!0,message:`Removed ${o.length} completed items`,severity:"success"})}catch(n){console.error("Error clearing completed:",n),M({open:!0,message:"Failed to clear completed items",severity:"error"})}},xt=async()=>{const o=v.filter(c=>!c.category||c.category==="other");if(o.length===0){M({open:!0,message:"All items are already categorized!",severity:"info"});return}J(!0);let n=0,a=0;try{for(const c of o)try{const m=await po(c.name);m&&m!=="other"?(await lo(Ot(Ge,"shoppingList",c.id),{category:m}),n++):a++}catch(m){console.error(`Error recategorizing ${c.name}:`,m),a++}M({open:!0,message:`Recategorized ${n} items${a>0?`, ${a} remained as 'other'`:""}`,severity:n>0?"success":"info"})}catch(c){console.error("Error recategorizing items:",c),M({open:!0,message:"Failed to recategorize items",severity:"error"})}finally{J(!1)}},Me=o=>{const n={};Se.forEach(c=>{if(c.items?.some(R=>R.name?.toLowerCase().includes(o.toLowerCase())||o.toLowerCase().includes(R.name?.toLowerCase()))&&c.storeInfo?.name){const R=c.storeInfo.name;n[R]=(n[R]||0)+1}});const a=Object.entries(n);return a.length===0?null:(a.sort((c,m)=>m[1]-c[1]),a[0][0])},fe=v.filter(o=>!o.checked),de=v.filter(o=>o.checked);let N=[],De=[],Ce={},U={};return k==="store"?fe.forEach(o=>{const n=Me(o.name)||"Unknown Store";Ce[n]||(Ce[n]=[]),Ce[n].push(o)}):k==="location"?fe.forEach(o=>{const n=o.category||"other";U[n]||(U[n]=[]),U[n].push(o)}):(N=fe.filter(o=>o.fromRecipe),De=fe.filter(o=>o.manual)),w?e.jsx(b,{sx:{background:`linear-gradient(180deg, ${p.bg} 0%, ${pe} 100%)`,minHeight:"100vh",pb:4},children:e.jsxs(so,{maxWidth:"md",children:[e.jsxs(b,{sx:{pt:4,pb:3},children:[e.jsxs(b,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(qt,{sx:{fontSize:36,color:p.main}}),e.jsx(O,{variant:"h3",sx:{fontFamily:"Outfit, sans-serif",fontWeight:700,color:p.main,fontSize:{xs:"28px",md:"34px"},mb:0},children:"Shopping List"})]}),e.jsx(O,{variant:"body1",sx:{fontFamily:"Outfit, sans-serif",fontWeight:400,color:ze.main},children:"Loading your shopping list..."})]}),e.jsx(Te,{sx:{bgcolor:pe,borderRadius:"12px",border:`2px solid ${te.border}`,boxShadow:`3px 3px 0px ${te.border}`},children:e.jsx(Ue,{sx:{p:2.5},children:e.jsx(Ms,{count:8,component:Ws})})})]})}):e.jsx(b,{sx:{background:`linear-gradient(180deg, ${p.bg} 0%, ${pe} 100%)`,minHeight:"100vh",pb:4},children:e.jsxs(so,{maxWidth:"md",children:[e.jsxs(b,{sx:{pt:4,pb:3},children:[e.jsxs(b,{sx:{display:"flex",justifyContent:"space-between",alignItems:"start",mb:1},children:[e.jsxs(b,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(qt,{sx:{fontSize:36,color:p.main}}),e.jsx(O,{variant:"h3",sx:{fontFamily:"Outfit, sans-serif",fontWeight:700,color:p.main,fontSize:{xs:"28px",md:"34px"},mb:0},children:"Shopping List"})]}),v.length>0&&e.jsx($t,{size:"small",onClick:xt,disabled:D,startIcon:D?e.jsx(To,{size:16}):e.jsx(Wo,{sx:{fontSize:16}}),sx:{fontFamily:"Outfit, sans-serif",fontSize:"12px",textTransform:"none",color:p.main,border:`1px solid ${p.main}`,borderRadius:"8px",px:2,py:.75,"&:hover":{bgcolor:p.bg,border:`1px solid ${p.dark}`},"&:disabled":{color:Pe.light,border:`1px solid ${W.light}`}},children:D?"Analyzing...":"AI Categorize"})]}),e.jsxs(b,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(O,{variant:"body1",sx:{fontFamily:"Outfit, sans-serif",fontWeight:400,color:ze.main},children:fe.length>0?`${fe.length} item${fe.length!==1?"s":""} to buy`:"Your shopping list is empty"}),fe.length>0&&e.jsxs(Fs,{value:k,exclusive:!0,onChange:(o,n)=>{n!==null&&ce(n)},size:"small",sx:{"& .MuiToggleButton-root":{fontFamily:"Outfit, sans-serif",fontSize:"11px",textTransform:"none",px:1.5,py:.5,border:`1px solid ${W.light}`,color:W.main,"&.Mui-selected":{bgcolor:p.main,color:"white",border:`1px solid ${p.main}`,"&:hover":{bgcolor:p.dark}},"&:hover":{bgcolor:te.borderLight}}},children:[e.jsxs(Qt,{value:"default",children:[e.jsx(Rs,{sx:{fontSize:16,mr:.5}}),"Default"]}),e.jsxs(Qt,{value:"store",children:[e.jsx(rt,{sx:{fontSize:16,mr:.5}}),"Store"]}),e.jsxs(Qt,{value:"location",children:[e.jsx(Vo,{sx:{fontSize:16,mr:.5}}),"Category"]})]})]})]}),e.jsx(Te,{sx:{bgcolor:p.bg,borderRadius:"12px",border:`2px solid ${p.main}`,boxShadow:`3px 3px 0px ${p.light}`,mb:3},children:e.jsxs(Ue,{sx:{p:2.5},children:[e.jsxs(b,{sx:{display:"flex",gap:1.5,mb:X?2:0},children:[e.jsx($s,{freeSolo:!0,fullWidth:!0,size:"small",options:S,value:F,onChange:(o,n)=>{typeof n=="string"?B(n):n&&n.name?B(n.name):B("")},onInputChange:(o,n)=>{B(n)},filterOptions:(o,n)=>!n.inputValue||n.inputValue.length===0?[]:o.filter(a=>a.name.toLowerCase().includes(n.inputValue.toLowerCase())),getOptionLabel:o=>typeof o=="string"?o:o.name||"",renderOption:(o,n)=>e.jsxs(b,{component:"li",...o,sx:{display:"flex",justifyContent:"space-between",width:"100%"},children:[e.jsx(O,{sx:{fontFamily:"Outfit, sans-serif",fontSize:"13px",fontWeight:500},children:n.name}),n.suggestedStore&&e.jsx(se,{label:n.suggestedStore,size:"small",icon:e.jsx(rt,{sx:{fontSize:12}}),sx:{height:"18px",fontSize:"10px",fontFamily:"Outfit, sans-serif",bgcolor:_.bg,color:_.dark,fontWeight:500,"& .MuiChip-icon":{color:_.dark,ml:.5}}})]}),disabled:Y,renderInput:o=>e.jsx(kt,{...o,placeholder:"Add item to shopping list...",onKeyPress:n=>{n.key==="Enter"&&!X&&Qe()},sx:{"& .MuiOutlinedInput-root":{fontFamily:"Outfit, sans-serif",bgcolor:pe,"& fieldset":{borderColor:p.light},"&:hover fieldset":{borderColor:p.main},"&.Mui-focused fieldset":{borderColor:p.main}}}})}),e.jsx($t,{variant:"outlined",onClick:()=>Z(!X),sx:{fontFamily:"Outfit, sans-serif",fontWeight:600,fontSize:"13px",textTransform:"none",color:p.main,borderColor:p.main,bgcolor:pe,minWidth:"40px",px:2,"&:hover":{borderColor:p.dark,bgcolor:p.bg}},children:X?"−":"+"}),e.jsx($t,{variant:"outlined",startIcon:e.jsx(qo,{}),onClick:Qe,disabled:!F.trim()||Y,sx:{fontFamily:"Outfit, sans-serif",textTransform:"none",color:p.main,borderColor:p.main,px:2,"&:hover":{borderColor:p.dark,bgcolor:p.bg}},children:"Add"})]}),X&&e.jsxs(b,{sx:{display:"flex",flexDirection:"column",gap:1.5},children:[e.jsxs(b,{sx:{display:"flex",gap:1.5},children:[e.jsx(kt,{size:"small",placeholder:"Quantity (e.g., 2x, 1 lb)",value:$,onChange:o=>H(o.target.value),disabled:Y,sx:{flex:1,"& .MuiOutlinedInput-root":{fontFamily:"Outfit, sans-serif",bgcolor:pe,"& fieldset":{borderColor:p.light},"&:hover fieldset":{borderColor:p.main},"&.Mui-focused fieldset":{borderColor:p.main}}}}),e.jsx(kt,{select:!0,size:"small",value:Q,onChange:o=>I(o.target.value),disabled:Y,SelectProps:{native:!0},sx:{flex:1,"& .MuiOutlinedInput-root":{fontFamily:"Outfit, sans-serif",bgcolor:pe,"& fieldset":{borderColor:p.light},"&:hover fieldset":{borderColor:p.main},"&.Mui-focused fieldset":{borderColor:p.main}}},children:V.map(o=>e.jsx("option",{value:o.value,children:o.label},o.value))})]}),e.jsx(kt,{fullWidth:!0,size:"small",placeholder:"Notes (e.g., organic, brand preference)",value:ae,onChange:o=>le(o.target.value),disabled:Y,sx:{"& .MuiOutlinedInput-root":{fontFamily:"Outfit, sans-serif",bgcolor:pe,"& fieldset":{borderColor:p.light},"&:hover fieldset":{borderColor:p.main},"&.Mui-focused fieldset":{borderColor:p.main}}}})]})]})}),v.length===0?e.jsxs(Te,{sx:{bgcolor:be.bg,borderRadius:"16px",border:`2px solid ${be.main}`,boxShadow:`3px 3px 0px ${be.light}`,p:5,textAlign:"center"},children:[e.jsx(Go,{sx:{fontSize:56,color:be.main,mb:2}}),e.jsx(O,{variant:"h5",sx:{fontFamily:"Outfit, sans-serif",fontWeight:600,color:ze.main,mb:1,fontSize:"20px"},children:"No Items Yet"}),e.jsx(O,{variant:"body1",sx:{fontFamily:"Outfit, sans-serif",fontWeight:400,color:ze.dark},children:"Add items manually or select ingredients from recipes to get started!"})]}):e.jsxs(e.Fragment,{children:[k==="default"&&e.jsxs(e.Fragment,{children:[N.length>0&&e.jsx(Te,{sx:{bgcolor:pe,borderRadius:"12px",border:`2px solid ${te.border}`,boxShadow:`3px 3px 0px ${te.border}`,mb:2},children:e.jsxs(Ue,{sx:{p:2.5},children:[e.jsxs(b,{sx:{display:"flex",alignItems:"center",gap:1,mb:1.5},children:[e.jsx(Mo,{sx:{fontSize:18,color:be.main}}),e.jsx(O,{variant:"h6",sx:{fontFamily:"Outfit, sans-serif",fontWeight:600,color:ze.main,fontSize:"15px"},children:"From Recipes"})]}),N.map(o=>e.jsxs(b,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",py:.75,borderBottom:`1px solid ${te.borderLight}`,"&:last-child":{borderBottom:"none"}},children:[e.jsxs(b,{sx:{display:"flex",alignItems:"start",flex:1},children:[e.jsx(ft,{checked:o.checked,onChange:()=>ye(o.id,o.checked),sx:{color:p.main,"&.Mui-checked":{color:p.main},py:.5,mt:-.5}}),e.jsxs(b,{sx:{flex:1},children:[e.jsxs(b,{sx:{display:"flex",alignItems:"center",gap:.75,flexWrap:"wrap"},children:[e.jsx(O,{variant:"body2",sx:{fontFamily:"Outfit, sans-serif",color:Pe.darker,fontSize:"13px",fontWeight:500,textDecoration:o.checked?"line-through":"none"},children:o.name}),o.quantity&&e.jsx(se,{label:o.quantity,size:"small",sx:{height:"20px",fontSize:"11px",fontFamily:"Outfit, sans-serif",bgcolor:be.bg,color:ze.dark,fontWeight:500}}),o.category&&o.category!=="other"&&(()=>{const n=V.find(a=>a.value===o.category);return n?e.jsx(se,{label:n.label,size:"small",sx:{height:"20px",fontSize:"11px",fontFamily:"Outfit, sans-serif",bgcolor:`${n.color}15`,color:n.color,fontWeight:500}}):null})(),o.estimatedPrice&&e.jsxs(O,{variant:"caption",sx:{fontFamily:"Outfit, sans-serif",color:W.main,fontSize:"11px",fontWeight:500},children:["~$",o.estimatedPrice.toFixed(2)]}),(()=>{const n=Me(o.name);return n?e.jsx(se,{label:n,icon:e.jsx(rt,{sx:{fontSize:14}}),size:"small",sx:{height:"20px",fontSize:"10px",fontFamily:"Outfit, sans-serif",bgcolor:_.bg,color:_.dark,fontWeight:500,"& .MuiChip-icon":{color:_.dark}}}):null})()]}),o.notes&&e.jsxs(O,{variant:"caption",sx:{fontFamily:"Outfit, sans-serif",color:W.main,fontSize:"11px",fontStyle:"italic",display:"block",mt:.25},children:["Note: ",o.notes]}),o.fromRecipe&&e.jsxs(O,{variant:"caption",sx:{fontFamily:"Outfit, sans-serif",color:W.main,fontSize:"11px",display:"block",mt:.25},children:["from ",o.fromRecipe]})]})]}),e.jsx(Ke,{size:"small",onClick:()=>G(o.id),sx:{color:ot.main},children:e.jsx(gt,{sx:{fontSize:18}})})]},o.id))]})}),De.length>0&&e.jsx(Te,{sx:{bgcolor:pe,borderRadius:"12px",border:`2px solid ${te.border}`,boxShadow:`3px 3px 0px ${te.border}`,mb:2},children:e.jsxs(Ue,{sx:{p:2.5},children:[e.jsxs(b,{sx:{display:"flex",alignItems:"center",gap:1,mb:1.5},children:[e.jsx(qt,{sx:{fontSize:18,color:p.main}}),e.jsx(O,{variant:"h6",sx:{fontFamily:"Outfit, sans-serif",fontWeight:600,color:p.main,fontSize:"15px"},children:"Other Items"})]}),De.map(o=>e.jsxs(b,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",py:.75,borderBottom:`1px solid ${te.borderLight}`,"&:last-child":{borderBottom:"none"}},children:[e.jsxs(b,{sx:{display:"flex",alignItems:"start",flex:1},children:[e.jsx(ft,{checked:o.checked,onChange:()=>ye(o.id,o.checked),sx:{color:p.main,"&.Mui-checked":{color:p.main},py:.5,mt:-.5}}),e.jsxs(b,{sx:{flex:1},children:[e.jsxs(b,{sx:{display:"flex",alignItems:"center",gap:.75,flexWrap:"wrap"},children:[e.jsx(O,{variant:"body2",sx:{fontFamily:"Outfit, sans-serif",color:Pe.darker,fontSize:"13px",fontWeight:500,textDecoration:o.checked?"line-through":"none"},children:o.name}),o.quantity&&e.jsx(se,{label:o.quantity,size:"small",sx:{height:"20px",fontSize:"11px",fontFamily:"Outfit, sans-serif",bgcolor:be.bg,color:ze.dark,fontWeight:500}}),o.category&&o.category!=="other"&&(()=>{const n=V.find(a=>a.value===o.category);return n?e.jsx(se,{label:n.label,size:"small",sx:{height:"20px",fontSize:"11px",fontFamily:"Outfit, sans-serif",bgcolor:`${n.color}15`,color:n.color,fontWeight:500}}):null})(),o.estimatedPrice&&e.jsxs(O,{variant:"caption",sx:{fontFamily:"Outfit, sans-serif",color:W.main,fontSize:"11px",fontWeight:500},children:["~$",o.estimatedPrice.toFixed(2)]}),(()=>{const n=Me(o.name);return n?e.jsx(se,{label:n,icon:e.jsx(rt,{sx:{fontSize:14}}),size:"small",sx:{height:"20px",fontSize:"10px",fontFamily:"Outfit, sans-serif",bgcolor:_.bg,color:_.dark,fontWeight:500,"& .MuiChip-icon":{color:_.dark}}}):null})()]}),o.notes&&e.jsxs(O,{variant:"caption",sx:{fontFamily:"Outfit, sans-serif",color:W.main,fontSize:"11px",fontStyle:"italic",display:"block",mt:.25},children:["Note: ",o.notes]})]})]}),e.jsx(Ke,{size:"small",onClick:()=>G(o.id),sx:{color:ot.main},children:e.jsx(gt,{sx:{fontSize:18}})})]},o.id))]})})]}),k==="store"&&e.jsx(e.Fragment,{children:Object.entries(Ce).sort(([o],[n])=>o.localeCompare(n)).map(([o,n])=>e.jsx(Te,{sx:{bgcolor:pe,borderRadius:"12px",border:`2px solid ${te.border}`,boxShadow:`3px 3px 0px ${te.border}`,mb:2},children:e.jsxs(Ue,{sx:{p:2.5},children:[e.jsxs(b,{sx:{display:"flex",alignItems:"center",gap:1,mb:1.5},children:[e.jsx(rt,{sx:{fontSize:18,color:_.main}}),e.jsx(O,{variant:"h6",sx:{fontFamily:"Outfit, sans-serif",fontWeight:600,color:_.dark,fontSize:"15px"},children:o}),e.jsx(se,{label:`${n.length} item${n.length!==1?"s":""}`,size:"small",sx:{height:"20px",fontSize:"11px",fontFamily:"Outfit, sans-serif",bgcolor:_.bg,color:_.dark,fontWeight:500}})]}),n.map(a=>e.jsxs(b,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",py:.75,borderBottom:`1px solid ${te.borderLight}`,"&:last-child":{borderBottom:"none"}},children:[e.jsxs(b,{sx:{display:"flex",alignItems:"start",flex:1},children:[e.jsx(ft,{checked:a.checked,onChange:()=>ye(a.id,a.checked),sx:{color:p.main,"&.Mui-checked":{color:p.main},py:.5,mt:-.5}}),e.jsxs(b,{sx:{flex:1},children:[e.jsxs(b,{sx:{display:"flex",alignItems:"center",gap:.75,flexWrap:"wrap"},children:[e.jsx(O,{variant:"body2",sx:{fontFamily:"Outfit, sans-serif",color:Pe.darker,fontSize:"13px",fontWeight:500,textDecoration:a.checked?"line-through":"none"},children:a.name}),a.quantity&&e.jsx(se,{label:a.quantity,size:"small",sx:{height:"20px",fontSize:"11px",fontFamily:"Outfit, sans-serif",bgcolor:be.bg,color:ze.dark,fontWeight:500}}),a.category&&a.category!=="other"&&(()=>{const c=V.find(m=>m.value===a.category);return c?e.jsx(se,{label:c.label,size:"small",sx:{height:"20px",fontSize:"10px",fontFamily:"Outfit, sans-serif",bgcolor:c.color,color:pe,fontWeight:500}}):null})(),a.estimatedPrice&&e.jsxs(O,{variant:"caption",sx:{fontFamily:"Outfit, sans-serif",color:p.main,fontSize:"11px",fontWeight:600},children:["~$",a.estimatedPrice.toFixed(2)]})]}),a.notes&&e.jsxs(O,{variant:"caption",sx:{fontFamily:"Outfit, sans-serif",color:W.main,fontSize:"11px",fontStyle:"italic",display:"block",mt:.25},children:["Note: ",a.notes]})]})]}),e.jsx(Ke,{size:"small",onClick:()=>G(a.id),sx:{color:ot.main},children:e.jsx(gt,{sx:{fontSize:18}})})]},a.id))]})},o))}),k==="location"&&e.jsx(e.Fragment,{children:Object.entries(U).sort(([o],[n])=>{const a=V.findIndex(m=>m.value===o),c=V.findIndex(m=>m.value===n);return a-c}).map(([o,n])=>{const a=V.find(c=>c.value===o);return a?e.jsx(Te,{sx:{bgcolor:a.bg,borderRadius:"12px",border:`2px solid ${a.color}`,boxShadow:`3px 3px 0px ${a.color}40`,mb:2},children:e.jsxs(Ue,{sx:{p:2.5},children:[e.jsxs(b,{sx:{display:"flex",alignItems:"center",gap:1,mb:1.5},children:[a.icon&&(function(){const c=a.icon;return e.jsx(c,{sx:{fontSize:20,color:a.color}})})(),e.jsx(O,{variant:"h6",sx:{fontFamily:"Outfit, sans-serif",fontWeight:600,color:a.color,fontSize:"15px"},children:a.label}),e.jsx(se,{label:`${n.length} item${n.length!==1?"s":""}`,size:"small",sx:{height:"20px",fontSize:"11px",fontFamily:"Outfit, sans-serif",bgcolor:`${a.color}20`,color:a.color,fontWeight:600}})]}),n.map(c=>e.jsxs(b,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",py:.75,borderBottom:`1px solid ${a.color}20`,"&:last-child":{borderBottom:"none"}},children:[e.jsxs(b,{sx:{display:"flex",alignItems:"start",flex:1},children:[e.jsx(ft,{checked:c.checked,onChange:()=>ye(c.id,c.checked),sx:{color:a.color,"&.Mui-checked":{color:a.color},py:.5,mt:-.5}}),e.jsxs(b,{sx:{flex:1},children:[e.jsxs(b,{sx:{display:"flex",alignItems:"center",gap:.75,flexWrap:"wrap"},children:[e.jsx(O,{variant:"body2",sx:{fontFamily:"Outfit, sans-serif",color:Pe.darker,fontSize:"13px",fontWeight:500,textDecoration:c.checked?"line-through":"none"},children:c.name}),c.quantity&&e.jsx(se,{label:c.quantity,size:"small",sx:{height:"20px",fontSize:"11px",fontFamily:"Outfit, sans-serif",bgcolor:be.bg,color:ze.dark,fontWeight:500}}),c.estimatedPrice&&e.jsxs(O,{variant:"caption",sx:{fontFamily:"Outfit, sans-serif",color:p.main,fontSize:"11px",fontWeight:600},children:["~$",c.estimatedPrice.toFixed(2)]}),(()=>{const m=Me(c.name);return m?e.jsx(se,{label:m,icon:e.jsx(rt,{sx:{fontSize:14}}),size:"small",sx:{height:"20px",fontSize:"10px",fontFamily:"Outfit, sans-serif",bgcolor:_.bg,color:_.dark,fontWeight:500,"& .MuiChip-icon":{color:_.dark}}}):null})()]}),c.notes&&e.jsxs(O,{variant:"caption",sx:{fontFamily:"Outfit, sans-serif",color:W.main,fontSize:"11px",fontStyle:"italic",display:"block",mt:.25},children:["Note: ",c.notes]})]})]}),e.jsx(Ke,{size:"small",onClick:()=>G(c.id),sx:{color:ot.main},children:e.jsx(gt,{sx:{fontSize:18}})})]},c.id))]})},o):null})}),de.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(ts,{sx:{my:3}}),e.jsx(Te,{sx:{bgcolor:W.bg,borderRadius:"12px",border:`2px solid ${W.light}`,boxShadow:`2px 2px 0px ${W.light}`,mb:2},children:e.jsxs(Ue,{sx:{p:2.5},children:[e.jsxs(b,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1.5},children:[e.jsxs(b,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(os,{sx:{fontSize:18,color:p.main}}),e.jsxs(O,{variant:"h6",sx:{fontFamily:"Outfit, sans-serif",fontWeight:600,color:W.main,fontSize:"15px"},children:["Completed (",de.length,")"]})]}),e.jsx($t,{size:"small",onClick:Ye,sx:{fontFamily:"Outfit, sans-serif",fontSize:"11px",textTransform:"none",color:W.main},children:"Clear All"})]}),de.map(o=>e.jsxs(b,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",py:.75,borderBottom:`1px solid ${te.border}`,"&:last-child":{borderBottom:"none"}},children:[e.jsxs(b,{sx:{display:"flex",alignItems:"start",flex:1},children:[e.jsx(ft,{checked:o.checked,onChange:()=>ye(o.id,o.checked),sx:{color:p.main,"&.Mui-checked":{color:p.main},py:.5,mt:-.5}}),e.jsxs(b,{sx:{flex:1},children:[e.jsxs(b,{sx:{display:"flex",alignItems:"center",gap:.75,flexWrap:"wrap"},children:[e.jsx(O,{variant:"body2",sx:{fontFamily:"Outfit, sans-serif",color:Pe.light,fontSize:"13px",fontWeight:500,textDecoration:"line-through"},children:o.name}),o.quantity&&e.jsx(se,{label:o.quantity,size:"small",sx:{height:"20px",fontSize:"11px",fontFamily:"Outfit, sans-serif",bgcolor:te.borderLight,color:W.main,fontWeight:500}}),o.category&&o.category!=="other"&&(()=>{const n=V.find(a=>a.value===o.category);return n?e.jsx(se,{label:n.label,size:"small",sx:{height:"20px",fontSize:"11px",fontFamily:"Outfit, sans-serif",bgcolor:te.borderLight,color:W.main,fontWeight:500}}):null})(),o.estimatedPrice&&e.jsxs(O,{variant:"caption",sx:{fontFamily:"Outfit, sans-serif",color:Pe.light,fontSize:"11px",fontWeight:500},children:["~$",o.estimatedPrice.toFixed(2)]})]}),o.notes&&e.jsxs(O,{variant:"caption",sx:{fontFamily:"Outfit, sans-serif",color:Pe.light,fontSize:"11px",fontStyle:"italic",display:"block",mt:.25},children:["Note: ",o.notes]})]})]}),e.jsx(Ke,{size:"small",onClick:()=>G(o.id),sx:{color:Pe.light},children:e.jsx(gt,{sx:{fontSize:18}})})]},o.id))]})})]})]}),e.jsx(Do,{open:ne.open,autoHideDuration:3e3,onClose:()=>M({...ne,open:!1}),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:e.jsx(No,{onClose:()=>M({...ne,open:!1}),severity:ne.severity,sx:{width:"100%"},children:ne.message})})]})})}export{Zs as default};
