import{g as Fe,a as $e,r as a,u as Le,j as e,c as ge,b as He,s as te,T as m,aw as fo,aF as go,aD as yo,aG as bo,aH as me,ak as vo,al as Je,aE as jo,aI as Co,aj as he,aJ as wo,aK as To,_ as _e,Z as Ee,aL as Ge,d as E,ar as So,B as d,w as r,U as ue,V as Ye,W as Ro,aM as Io,D as L,G as Ke,P as q,J as b,x as H,I as ee,E as O,aN as Po,F as ko,aO as Oo,aP as Mo,aQ as Fo,S as $o}from"./index-By-6PO1w.js";import{T as ke}from"./TextField-CHzrXbs_.js";import{C as Lo}from"./Close-BlBmCSKR.js";import{a as Ho}from"./useFormControl-CIlIf9Fu.js";import{P as qe}from"./Popper-BVvZ-161.js";import{E as Eo}from"./Edit-B8JdMMSW.js";import{R as Wo}from"./Refresh-DZxS1M1-.js";import{D as Ao}from"./Divider-BSd6Pqhz.js";import{D as No,a as Do,b as zo,c as Uo}from"./DialogTitle-Bbffd3dE.js";function Bo(t){return Fe("MuiDialogContentText",t)}$e("MuiDialogContentText",["root"]);const Vo=t=>{const{classes:o}=t,p=He({root:["root"]},Bo,o);return{...o,...p}},Jo=te(m,{shouldForwardProp:t=>fo(t)||t==="classes",name:"MuiDialogContentText",slot:"Root"})({}),Go=a.forwardRef(function(o,n){const p=Le({props:o,name:"MuiDialogContentText"}),{children:g,className:u,...T}=p,x=Vo(T);return e.jsx(Jo,{component:"p",variant:"body1",color:"textSecondary",ref:n,ownerState:T,className:ge(x.root,u),...p,classes:x})});function Yo(t){return Fe("MuiListItemAvatar",t)}$e("MuiListItemAvatar",["root","alignItemsFlexStart"]);const Ko=t=>{const{alignItems:o,classes:n}=t;return He({root:["root",o==="flex-start"&&"alignItemsFlexStart"]},Yo,n)},Qo=te("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(t,o)=>{const{ownerState:n}=t;return[o.root,n.alignItems==="flex-start"&&o.alignItemsFlexStart]}})({minWidth:56,flexShrink:0,variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}),Xo=a.forwardRef(function(o,n){const p=Le({props:o,name:"MuiListItemAvatar"}),{className:g,...u}=p,T=a.useContext(go),x={...p,alignItems:T.alignItems},I=Ko(x);return e.jsx(Qo,{className:ge(I.root,g),ownerState:x,ref:n,...u})});function Zo(t){return Fe("MuiTooltip",t)}const l=$e("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function _o(t){return Math.round(t*1e5)/1e5}const qo=t=>{const{classes:o,disableInteractive:n,arrow:p,touch:g,placement:u}=t,T={popper:["popper",!n&&"popperInteractive",p&&"popperArrow"],tooltip:["tooltip",p&&"tooltipArrow",g&&"touch",`tooltipPlacement${_e(u.split("-")[0])}`],arrow:["arrow"]};return He(T,Zo,o)},et=te(qe,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,o)=>{const{ownerState:n}=t;return[o.popper,!n.disableInteractive&&o.popperInteractive,n.arrow&&o.popperArrow,!n.open&&o.popperClose]}})(Ee(({theme:t})=>({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:o})=>!o.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:o})=>!o,style:{pointerEvents:"none"}},{props:({ownerState:o})=>o.arrow,style:{[`&[data-popper-placement*="bottom"] .${l.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${l.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${l.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${l.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:o})=>o.arrow&&!o.isRtl,style:{[`&[data-popper-placement*="right"] .${l.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:o})=>o.arrow&&!!o.isRtl,style:{[`&[data-popper-placement*="right"] .${l.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:o})=>o.arrow&&!o.isRtl,style:{[`&[data-popper-placement*="left"] .${l.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:o})=>o.arrow&&!!o.isRtl,style:{[`&[data-popper-placement*="left"] .${l.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),ot=te("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,o)=>{const{ownerState:n}=t;return[o.tooltip,n.touch&&o.touch,n.arrow&&o.tooltipArrow,o[`tooltipPlacement${_e(n.placement.split("-")[0])}`]]}})(Ee(({theme:t})=>({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:t.alpha(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium,[`.${l.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${l.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${l.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${l.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:o})=>o.arrow,style:{position:"relative",margin:0}},{props:({ownerState:o})=>o.touch,style:{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${_o(16/14)}em`,fontWeight:t.typography.fontWeightRegular}},{props:({ownerState:o})=>!o.isRtl,style:{[`.${l.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${l.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:o})=>!o.isRtl&&o.touch,style:{[`.${l.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${l.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:o})=>!!o.isRtl,style:{[`.${l.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${l.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:o})=>!!o.isRtl&&o.touch,style:{[`.${l.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${l.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:o})=>o.touch,style:{[`.${l.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:o})=>o.touch,style:{[`.${l.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),tt=te("span",{name:"MuiTooltip",slot:"Arrow"})(Ee(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:t.alpha(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let xe=!1;const Qe=new To;let oe={x:0,y:0};function fe(t,o){return(n,...p)=>{o&&o(n,...p),t(n,...p)}}const Oe=a.forwardRef(function(o,n){const p=Le({props:o,name:"MuiTooltip"}),{arrow:g=!1,children:u,classes:T,components:x={},componentsProps:I={},describeChild:ye=!1,disableFocusListener:be=!1,disableHoverListener:W=!1,disableInteractive:P=!1,disableTouchListener:D=!1,enterDelay:z=100,enterNextDelay:A=0,enterTouchDelay:se=700,followCursor:c=!1,id:f,leaveDelay:U=0,leaveTouchDelay:h=1500,onClose:re,onOpen:M,open:B,placement:v="bottom",PopperComponent:V,PopperProps:S={},slotProps:j={},slots:J={},title:C,TransitionComponent:G,TransitionProps:ve,...ae}=p,w=a.isValidElement(u)?u:e.jsx("span",{children:u}),ne=yo(),je=bo(),[F,Y]=a.useState(),[K,i]=a.useState(null),N=a.useRef(!1),Ce=P||c,We=me(),we=me(),ie=me(),Ae=me(),[eo,Ne]=Ho({controlled:B,default:!1,name:"Tooltip",state:"open"});let R=eo;const Te=vo(f),Q=a.useRef(),le=Je(()=>{Q.current!==void 0&&(document.body.style.WebkitUserSelect=Q.current,Q.current=void 0),Ae.clear()});a.useEffect(()=>le,[le]);const De=s=>{Qe.clear(),xe=!0,Ne(!0),M&&!R&&M(s)},pe=Je(s=>{Qe.start(800+U,()=>{xe=!1}),Ne(!1),re&&R&&re(s),We.start(ne.transitions.duration.shortest,()=>{N.current=!1})}),ce=s=>{N.current&&s.type!=="touchstart"||(F&&F.removeAttribute("title"),we.clear(),ie.clear(),z||xe&&A?we.start(xe?A:z,()=>{De(s)}):De(s))},Se=s=>{we.clear(),ie.start(U,()=>{pe(s)})},[,ze]=a.useState(!1),Ue=s=>{Ge(s.target)||(ze(!1),Se(s))},Be=s=>{F||Y(s.currentTarget),Ge(s.target)&&(ze(!0),ce(s))},Ve=s=>{N.current=!0;const k=w.props;k.onTouchStart&&k.onTouchStart(s)},oo=s=>{Ve(s),ie.clear(),We.clear(),le(),Q.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Ae.start(se,()=>{document.body.style.WebkitUserSelect=Q.current,ce(s)})},to=s=>{w.props.onTouchEnd&&w.props.onTouchEnd(s),le(),ie.start(h,()=>{pe(s)})};a.useEffect(()=>{if(!R)return;function s(k){k.key==="Escape"&&pe(k)}return document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s)}},[pe,R]);const so=jo(Co(w),Y,n);!C&&C!==0&&(R=!1);const Re=a.useRef(),ro=s=>{const k=w.props;k.onMouseMove&&k.onMouseMove(s),oe={x:s.clientX,y:s.clientY},Re.current&&Re.current.update()},X={},Ie=typeof C=="string";ye?(X.title=!R&&Ie&&!W?C:null,X["aria-describedby"]=R?Te:null):(X["aria-label"]=Ie?C:null,X["aria-labelledby"]=R&&!Ie?Te:null);const y={...X,...ae,...w.props,className:ge(ae.className,w.props.className),onTouchStart:Ve,ref:so,...c?{onMouseMove:ro}:{}},Z={};D||(y.onTouchStart=oo,y.onTouchEnd=to),W||(y.onMouseOver=fe(ce,y.onMouseOver),y.onMouseLeave=fe(Se,y.onMouseLeave),Ce||(Z.onMouseOver=ce,Z.onMouseLeave=Se)),be||(y.onFocus=fe(Be,y.onFocus),y.onBlur=fe(Ue,y.onBlur),Ce||(Z.onFocus=Be,Z.onBlur=Ue));const $={...p,isRtl:je,arrow:g,disableInteractive:Ce,placement:v,PopperComponentProp:V,touch:N.current},_=typeof j.popper=="function"?j.popper($):j.popper,ao=a.useMemo(()=>{let s=[{name:"arrow",enabled:!!K,options:{element:K,padding:4}}];return S.popperOptions?.modifiers&&(s=s.concat(S.popperOptions.modifiers)),_?.popperOptions?.modifiers&&(s=s.concat(_.popperOptions.modifiers)),{...S.popperOptions,..._?.popperOptions,modifiers:s}},[K,S.popperOptions,_?.popperOptions]),Pe=qo($),no=typeof j.transition=="function"?j.transition($):j.transition,de={slots:{popper:x.Popper,transition:x.Transition??G,tooltip:x.Tooltip,arrow:x.Arrow,...J},slotProps:{arrow:j.arrow??I.arrow,popper:{...S,..._??I.popper},tooltip:j.tooltip??I.tooltip,transition:{...ve,...no??I.transition}}},[io,lo]=he("popper",{elementType:et,externalForwardedProps:de,ownerState:$,className:ge(Pe.popper,S?.className)}),[po,co]=he("transition",{elementType:wo,externalForwardedProps:de,ownerState:$}),[mo,ho]=he("tooltip",{elementType:ot,className:Pe.tooltip,externalForwardedProps:de,ownerState:$}),[uo,xo]=he("arrow",{elementType:tt,className:Pe.arrow,externalForwardedProps:de,ownerState:$,ref:i});return e.jsxs(a.Fragment,{children:[a.cloneElement(w,y),e.jsx(io,{as:V??qe,placement:v,anchorEl:c?{getBoundingClientRect:()=>({top:oe.y,left:oe.x,right:oe.x,bottom:oe.y,width:0,height:0})}:F,popperRef:Re,open:F?R:!1,id:Te,transition:!0,...Z,...lo,popperOptions:ao,children:({TransitionProps:s})=>e.jsx(po,{timeout:ne.transitions.duration.shorter,...s,...co,children:e.jsxs(mo,{...ho,children:[C,g?e.jsx(uo,{...xo}):null]})})})]})}),Xe=E(e.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})),st=E(e.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"})),rt=E(e.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"})),at=E(e.jsx("path",{d:"M10.09 15.59 11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"})),nt=E(e.jsx("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"})),Me=E(e.jsx("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"})),Ze=E(e.jsx("path",{d:"M12.65 10C11.83 7.67 9.61 6 7 6c-3.31 0-6 2.69-6 6s2.69 6 6 6c2.61 0 4.83-1.67 5.65-4H17v4h4v-4h2v-4zM7 14c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"}));function ft(){const{household:t,members:o,loading:n,error:p,hasHousehold:g,inviteCode:u,createHousehold:T,joinHousehold:x,leaveHousehold:I,regenerateInviteCode:ye,updateHouseholdName:be}=So(),[W,P]=a.useState("select"),[D,z]=a.useState(""),[A,se]=a.useState(""),[c,f]=a.useState(!1),[U,h]=a.useState(""),[re,M]=a.useState(!1),[B,v]=a.useState({open:!1,message:""}),[V,S]=a.useState(!1),[j,J]=a.useState(!1),[C,G]=a.useState(""),ve=async()=>{if(!D.trim()){h("Please enter a household name");return}try{f(!0),h(""),await T(D.trim()),v({open:!0,message:"Household created! Share your invite code with family."}),z(""),P("select")}catch(i){h(i.message)}finally{f(!1)}},ae=async()=>{if(!A.trim()){h("Please enter an invite code");return}try{f(!0),h(""),await x(A.trim().toUpperCase()),v({open:!0,message:"Welcome to the household! ğŸ‰"}),se(""),P("select")}catch(i){h(i.message)}finally{f(!1)}},w=async()=>{try{f(!0),h(""),await I(),M(!1),v({open:!0,message:"You have left the household."})}catch(i){h(i.message)}finally{f(!1)}},ne=()=>{navigator.clipboard.writeText(u),S(!0),setTimeout(()=>S(!1),2e3),v({open:!0,message:"Invite code copied!"})},je=async()=>{try{f(!0),await ye(),v({open:!0,message:"New invite code generated!"})}catch(i){h(i.message)}finally{f(!1)}},F=()=>{G(t?.name||""),J(!0)},Y=async()=>{if(!C.trim()){h("Household name cannot be empty");return}try{f(!0),await be(C.trim()),J(!1),v({open:!0,message:"Household name updated!"})}catch(i){h(i.message)}finally{f(!1)}},K=()=>{J(!1),G("")};return n?e.jsx(d,{sx:{background:`linear-gradient(180deg, ${r.bg} 0%, ${ue} 100%)`,minHeight:"100vh",pb:4},children:e.jsx(Ye,{maxWidth:"md",children:e.jsx(d,{sx:{pt:4,display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:e.jsx(Ro,{sx:{color:r.main}})})})}):e.jsx(d,{sx:{background:`linear-gradient(180deg, ${r.bg} 0%, ${ue} 100%)`,minHeight:"100vh",pb:4},children:e.jsxs(Ye,{maxWidth:"md",children:[e.jsxs(d,{sx:{pt:4,pb:3},children:[e.jsxs(d,{sx:{display:"flex",alignItems:"center",gap:1.5,mb:1},children:[e.jsx(Io,{sx:{fontSize:{xs:28,md:34},color:r.main}}),e.jsx(m,{variant:"h3",sx:{fontFamily:"Outfit, sans-serif",fontWeight:700,color:r.main,fontSize:{xs:"28px",md:"34px"}},children:"Household"})]}),e.jsx(m,{variant:"body1",sx:{fontFamily:"Outfit, sans-serif",fontWeight:400,color:L.main},children:g?"Manage your household and share groceries with family":"Create or join a household to share groceries with family"})]}),p&&e.jsx(Ke,{severity:"error",sx:{mb:3,borderRadius:"12px"},children:p}),U&&e.jsx(Ke,{severity:"error",sx:{mb:3,borderRadius:"12px"},onClose:()=>h(""),children:U}),!g&&e.jsxs(d,{children:[W==="select"&&e.jsxs(d,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:3},children:[e.jsxs(q,{elevation:0,sx:{flex:1,p:4,borderRadius:"16px",border:`3px solid ${r.main}`,boxShadow:`4px 4px 0px ${r.light}`,textAlign:"center",cursor:"pointer",transition:"all 0.2s ease","&:hover":{transform:"translateY(-4px)",boxShadow:`6px 6px 0px ${r.light}`}},onClick:()=>P("create"),children:[e.jsx(Me,{sx:{fontSize:"56px",mb:2,color:r.main}}),e.jsx(m,{variant:"h5",sx:{fontFamily:"Outfit, sans-serif",fontWeight:600,color:r.darker,mb:1},children:"Create Household"}),e.jsx(m,{variant:"body2",sx:{fontFamily:"Outfit, sans-serif",color:L.main},children:"Start a new household and invite your family to join"})]}),e.jsxs(q,{elevation:0,sx:{flex:1,p:4,borderRadius:"16px",border:`3px solid ${b.main}`,boxShadow:`4px 4px 0px ${b.light}`,textAlign:"center",cursor:"pointer",transition:"all 0.2s ease","&:hover":{transform:"translateY(-4px)",boxShadow:`6px 6px 0px ${b.light}`}},onClick:()=>P("join"),children:[e.jsx(Ze,{sx:{fontSize:"56px",mb:2,color:b.main}}),e.jsx(m,{variant:"h5",sx:{fontFamily:"Outfit, sans-serif",fontWeight:600,color:b.dark,mb:1},children:"Join Household"}),e.jsx(m,{variant:"body2",sx:{fontFamily:"Outfit, sans-serif",color:L.main},children:"Enter an invite code to join an existing household"})]})]}),W==="create"&&e.jsxs(q,{elevation:0,sx:{p:4,borderRadius:"16px",border:`3px solid ${r.main}`,boxShadow:`4px 4px 0px ${r.light}`},children:[e.jsxs(m,{variant:"h5",sx:{fontFamily:"Outfit, sans-serif",fontWeight:600,color:r.darker,mb:3,display:"flex",alignItems:"center",gap:1},children:[e.jsx(Me,{sx:{color:r.main}}),"Create Your Household"]}),e.jsx(ke,{fullWidth:!0,label:"Household Name",placeholder:"e.g., The Smith Family, Apartment 5B",value:D,onChange:i=>z(i.target.value),sx:{mb:3},disabled:c}),e.jsxs(d,{sx:{display:"flex",gap:2},children:[e.jsx(H,{variant:"outlined",onClick:()=>P("select"),disabled:c,sx:{fontFamily:"Outfit, sans-serif",fontWeight:600,borderRadius:"10px",textTransform:"none"},children:"Back"}),e.jsx(H,{variant:"contained",onClick:ve,disabled:c,sx:{fontFamily:"Outfit, sans-serif",fontWeight:600,borderRadius:"10px",textTransform:"none",bgcolor:r.main,"&:hover":{bgcolor:r.dark}},children:c?"Creating...":"Create Household"})]})]}),W==="join"&&e.jsxs(q,{elevation:0,sx:{p:4,borderRadius:"16px",border:`3px solid ${b.main}`,boxShadow:`4px 4px 0px ${b.light}`},children:[e.jsxs(m,{variant:"h5",sx:{fontFamily:"Outfit, sans-serif",fontWeight:600,color:b.dark,mb:3,display:"flex",alignItems:"center",gap:1},children:[e.jsx(Ze,{sx:{color:b.main}}),"Join a Household"]}),e.jsx(ke,{fullWidth:!0,label:"Invite Code",placeholder:"Enter 6-character code",value:A,onChange:i=>se(i.target.value.toUpperCase()),sx:{mb:3},disabled:c,inputProps:{maxLength:6,style:{textTransform:"uppercase",letterSpacing:"4px",fontWeight:600}}}),e.jsxs(d,{sx:{display:"flex",gap:2},children:[e.jsx(H,{variant:"outlined",onClick:()=>P("select"),disabled:c,sx:{fontFamily:"Outfit, sans-serif",fontWeight:600,borderRadius:"10px",textTransform:"none"},children:"Back"}),e.jsx(H,{variant:"contained",onClick:ae,disabled:c,sx:{fontFamily:"Outfit, sans-serif",fontWeight:600,borderRadius:"10px",textTransform:"none",bgcolor:b.main,"&:hover":{bgcolor:b.dark}},children:c?"Joining...":"Join Household"})]})]})]}),g&&e.jsxs(d,{children:[e.jsxs(q,{elevation:0,sx:{p:4,borderRadius:"16px",border:`3px solid ${r.main}`,boxShadow:`4px 4px 0px ${r.light}`,mb:3},children:[e.jsxs(d,{sx:{display:"flex",alignItems:"center",gap:2,mb:3},children:[e.jsx(Me,{sx:{fontSize:"48px",color:r.main}}),e.jsxs(d,{sx:{flex:1},children:[j?e.jsxs(d,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(ke,{value:C,onChange:i=>G(i.target.value),size:"small",autoFocus:!0,disabled:c,onKeyPress:i=>i.key==="Enter"&&Y(),sx:{"& .MuiInputBase-input":{fontFamily:"Outfit, sans-serif",fontWeight:700,fontSize:"1.5rem",color:r.darker}}}),e.jsx(ee,{onClick:Y,disabled:c,sx:{color:r.main},children:e.jsx(Xe,{})}),e.jsx(ee,{onClick:K,disabled:c,sx:{color:L.main},children:e.jsx(Lo,{})})]}):e.jsxs(d,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(m,{variant:"h4",sx:{fontFamily:"Outfit, sans-serif",fontWeight:700,color:r.darker},children:t.name}),e.jsx(Oe,{title:"Edit name",children:e.jsx(ee,{onClick:F,size:"small",sx:{color:L.main,"&:hover":{color:r.main}},children:e.jsx(Eo,{fontSize:"small"})})})]}),e.jsxs(m,{variant:"body2",sx:{fontFamily:"Outfit, sans-serif",color:L.main},children:[o.length," member",o.length!==1?"s":""]})]})]}),e.jsxs(d,{sx:{bgcolor:O.bg,borderRadius:"12px",border:`2px solid ${O.main}`,p:3,mb:3},children:[e.jsxs(m,{variant:"body2",sx:{fontFamily:"Outfit, sans-serif",fontWeight:600,color:O.dark,mb:1,display:"flex",alignItems:"center",gap:.5},children:[e.jsx(rt,{fontSize:"small",sx:{color:O.main}}),"Invite Code - Share with family to join"]}),e.jsxs(d,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(m,{variant:"h4",sx:{fontFamily:"monospace",fontWeight:700,color:r.darker,letterSpacing:"6px",flex:1},children:u}),e.jsx(Oe,{title:V?"Copied!":"Copy code",children:e.jsx(ee,{onClick:ne,sx:{bgcolor:ue,border:`2px solid ${O.main}`,"&:hover":{bgcolor:O.light}},children:V?e.jsx(Xe,{}):e.jsx(st,{})})}),e.jsx(Oe,{title:"Generate new code",children:e.jsx(ee,{onClick:je,disabled:c,sx:{bgcolor:ue,border:`2px solid ${O.main}`,"&:hover":{bgcolor:O.light}},children:e.jsx(Wo,{})})})]})]}),e.jsxs(m,{variant:"h6",sx:{fontFamily:"Outfit, sans-serif",fontWeight:600,color:r.darker,mb:2,display:"flex",alignItems:"center",gap:1},children:[e.jsx(nt,{sx:{color:r.main}}),"Household Members"]}),e.jsx(Po,{sx:{bgcolor:ko.bg,borderRadius:"12px",overflow:"hidden"},children:o.map((i,N)=>e.jsxs(d,{children:[N>0&&e.jsx(Ao,{}),e.jsxs(Oo,{children:[e.jsx(Xo,{children:e.jsx(Mo,{src:i.photoURL,sx:{bgcolor:r.main},children:i.displayName?.[0]?.toUpperCase()||"?"})}),e.jsx(Fo,{primary:e.jsx(m,{sx:{fontFamily:"Outfit, sans-serif",fontWeight:600,color:L.darker},children:i.displayName||"Unknown"}),secondary:i.email})]})]},i.id))})]}),e.jsx(H,{variant:"outlined",color:"error",startIcon:e.jsx(at,{}),onClick:()=>M(!0),sx:{fontFamily:"Outfit, sans-serif",fontWeight:600,borderRadius:"10px",textTransform:"none"},children:"Leave Household"})]}),e.jsxs(No,{open:re,onClose:()=>M(!1),children:[e.jsx(Do,{sx:{fontFamily:"Outfit, sans-serif",fontWeight:600},children:"Leave Household?"}),e.jsx(zo,{children:e.jsxs(Go,{sx:{fontFamily:"Outfit, sans-serif"},children:['Are you sure you want to leave "',t?.name,`"? Your receipts and data will remain with the household, but you won't be able to see shared items anymore.`]})}),e.jsxs(Uo,{children:[e.jsx(H,{onClick:()=>M(!1),sx:{fontFamily:"Outfit, sans-serif",textTransform:"none"},children:"Cancel"}),e.jsx(H,{onClick:w,color:"error",disabled:c,sx:{fontFamily:"Outfit, sans-serif",textTransform:"none"},children:c?"Leaving...":"Leave"})]})]}),e.jsx($o,{open:B.open,autoHideDuration:3e3,onClose:()=>v({...B,open:!1}),message:B.message})]})})}export{ft as default};
