import{d as he,j as e,Q as Fe,R as Oe,r as m,af as $e,ag as Te,q as E,z as Le,B as n,w as r,U as p,V as oe,W as ae,ah as _,T as c,X as S,E as d,N as u,x as I,L as l,O as q,F as P,$ as We,I as Ae,y as le,C as Ee,D as Pe,S as Me,G as He,l as M,p as K,n as J}from"./index-CsiIu3XX.js";import{g as Ue}from"./geminiService-CitDXh9M.js";import{C as z,a as H}from"./CardContent-Cwpzu-y0.js";import{G as b}from"./Grid-DXzofRRI.js";import{E as Ge}from"./Edit-ihsG2UmY.js";import{T as ce}from"./TextField-D1kGytsK.js";import{I as Ne}from"./InputAdornment-D-5E6HZU.js";import{C as de}from"./Chip-QOg_ts1l.js";import{C as Be}from"./Close-ErLjG434.js";import{C as pe}from"./CheckCircle-JwiCKePl.js";import{F as xe,A as Ye,L as De}from"./Link-DerJbQFU.js";import{C as me}from"./Checkbox-DsiZ6HCJ.js";import"./useFormControl-CaPw9b04.js";const fe=he([e.jsx("path",{d:"M19.5 3.5 18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2v14H3v3c0 1.66 1.34 3 3 3h12c1.66 0 3-1.34 3-3V2zM19 19c0 .55-.45 1-1 1s-1-.45-1-1v-3H8V5h11z"},"0"),e.jsx("path",{d:"M9 7h6v2H9zm7 0h2v2h-2zm-7 3h6v2H9zm7 0h2v2h-2z"},"1")]),Ve=he(e.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"})),_e="AIzaSyAeF_U52WqdiQRsaYMfijH8YtYOLIuJCsM",qe="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent",Ke=async j=>{try{const w=`You are a recipe parser. Extract the recipe information from this text/HTML and return it in the following JSON format:

{
  "name": "Recipe name",
  "description": "Brief description",
  "ingredients": ["ingredient 1", "ingredient 2", ...],
  "instructions": ["step 1", "step 2", ...],
  "prepTime": "prep time in minutes (number only)",
  "cookTime": "cook time in minutes (number only)",
  "servings": "number of servings (number only)",
  "imageUrl": "main recipe image URL if available"
}

Important:
- Extract ingredient names clearly (e.g., "chicken breast", "olive oil", "salt")
- Keep ingredients simple and searchable
- If any field is not available, use null

Here's the recipe text/HTML:
${j.substring(0,5e4)}`,C=await fetch(`${qe}?key=${_e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:w}]}],generationConfig:{temperature:.3,topK:20,topP:.8,maxOutputTokens:4096}})});if(!C.ok)throw C.status===429?new Error("Rate limit reached. Please wait a moment and try again."):new Error(`Gemini API error: ${C.statusText}`);const R=(await C.json()).candidates?.[0]?.content?.parts?.[0]?.text;if(!R)throw new Error("No recipe data extracted");const U=R.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();return JSON.parse(U)}catch(w){throw console.error("Error parsing recipe:",w),w}};function cs(){const{currentUser:j}=Fe(),{getAnalyzedReceipts:w,loading:C}=Oe(),y=w(),[R,U]=m.useState([]),[Q,G]=m.useState(!0),[h,F]=m.useState([]),[X,ge]=m.useState([]),ue=C||Q,[N,Z]=m.useState(!1),[O,x]=m.useState({open:!1,message:"",severity:"info"}),[B,ee]=m.useState({}),[T,Y]=m.useState(""),[se,be]=m.useState(""),[D,te]=m.useState(!1),[f,V]=m.useState(null),[L,W]=m.useState([]),re=s=>{const t=["water","salt","pepper","black pepper","white pepper","olive oil","vegetable oil","cooking oil","oil","butter","sugar","flour","all-purpose flour","baking powder","baking soda","vanilla extract","garlic powder","onion powder","paprika"],i=[],a=[];return s.forEach(o=>{const g=o.toLowerCase();t.some($=>g.includes($)||$.includes(g))?a.push(o):i.push(o)}),[...i,...a]};m.useEffect(()=>{if(!j){G(!1);return}const s=$e(E(M,"pantry"),Te("userId","==",j.uid)),t=Le(s,i=>{const a=[];i.forEach(o=>{a.push({id:o.id,...o.data()})}),U(a),G(!1)},i=>{console.error("Error fetching pantry:",i),G(!1)});return()=>t()},[j]);const ie=m.useMemo(()=>{const s=new Set;return y.forEach(t=>{t.items&&t.items.forEach(i=>{i.name&&s.add(i.name.toLowerCase())})}),Array.from(s).sort()},[y]),v=m.useMemo(()=>{const s=R.map(t=>t.name);return[...new Set([...ie,...s])].sort()},[ie,R]),ye=s=>{F(t=>t.includes(s)?t.filter(i=>i!==s):[...t,s])},je=s=>{const t=y.find(o=>o.id===s);if(!t||!t.items)return;const i=t.items.map(o=>o.name?.toLowerCase()).filter(Boolean),a=i.every(o=>h.includes(o));F(a?o=>o.filter(g=>!i.includes(g)):o=>[...new Set([...o,...i])])},A=s=>{const t=y.find(a=>a.id===s);if(!t||!t.items)return!1;const i=t.items.map(a=>a.name?.toLowerCase()).filter(Boolean);return i.length>0&&i.every(a=>h.includes(a))},Se=()=>{h.length===v.length?F([]):F([...v])},Ie=async()=>{if(h.length===0){x({open:!0,message:"Please select some ingredients first",severity:"warning"});return}Z(!0);try{const s=await Ue(h,{includePartialMatches:!0});ge(s),x({open:!0,message:`Generated ${s.length} recipe suggestions!`,severity:"success"})}catch(s){console.error("Error generating recipes:",s),x({open:!0,message:s.message.includes("API")?"Please add your Gemini API key to use this feature":"Failed to generate recipes. Please try again.",severity:"error"})}finally{Z(!1)}},ve=(s,t)=>{ee(i=>{const a=`recipe-${s}`,o=i[a]||[];return o.includes(t)?{...i,[a]:o.filter(g=>g!==t)}:{...i,[a]:[...o,t]}})},ke=async(s,t)=>{const i=`recipe-${s}`,a=B[i]||[];if(a.length===0){x({open:!0,message:"Please select ingredients to add to your shopping list",severity:"warning"});return}try{const o=E(M,"shoppingList"),g=a.map(k=>K(o,{userId:j.uid,name:k,checked:!1,fromRecipe:t,createdAt:J()}));await Promise.all(g),ee(k=>({...k,[i]:[]})),x({open:!0,message:`Added ${a.length} item${a.length>1?"s":""} to shopping list!`,severity:"success"})}catch(o){console.error("Error adding to shopping list:",o),x({open:!0,message:"Failed to add items to shopping list",severity:"error"})}},we=async()=>{if(T.trim()){te(!0);try{const s=await Ke(T),t=new Set(v.map(o=>o.toLowerCase())),i=[],a=[];s.ingredients.forEach(o=>{const g=o.toLowerCase();let k=!1;for(const $ of t)if(g.includes($)||$.includes(g)){i.push(o),k=!0;break}k||a.push(o)}),V({...s,matchedIngredients:i,missingIngredients:a}),W([]),x({open:!0,message:"Recipe imported successfully!",severity:"success"})}catch(s){console.error("Error importing recipe:",s),x({open:!0,message:s.message||"Failed to import recipe",severity:"error"})}finally{te(!1)}}},ne=async()=>{if(f)try{const s=E(M,"savedRecipes");await K(s,{userId:j.uid,...f,savedAt:J()}),x({open:!0,message:"Recipe saved! View it in My Recipes.",severity:"success"})}catch(s){console.error("Error saving recipe:",s),x({open:!0,message:"Failed to save recipe",severity:"error"})}},Ce=async()=>{if(L.length===0){x({open:!0,message:"Please select ingredients to add",severity:"warning"});return}try{const s=E(M,"shoppingList"),t=L.map(i=>K(s,{userId:j.uid,name:i,checked:!1,fromRecipe:f.name,createdAt:J()}));await Promise.all(t),await ne(),W([]),x({open:!0,message:`Added ${t.length} items to shopping list and saved recipe!`,severity:"success"}),V(null),Y("")}catch(s){console.error("Error adding to shopping list:",s),x({open:!0,message:"Failed to add items to shopping list",severity:"error"})}},ze=s=>{W(t=>t.includes(s)?t.filter(i=>i!==s):[...t,s])},Re={Easy:r.main,Medium:d.main,Hard:Ee.main};return ue?e.jsx(n,{sx:{background:`linear-gradient(180deg, ${r.bg} 0%, ${p} 100%)`,minHeight:"100vh",pb:4},children:e.jsx(oe,{maxWidth:"lg",children:e.jsx(n,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh"},children:e.jsx(ae,{size:60,sx:{color:r.main}})})})}):e.jsx(n,{sx:{background:`linear-gradient(180deg, ${r.bg} 0%, ${p} 100%)`,minHeight:"100vh",pb:4},children:e.jsxs(oe,{maxWidth:"lg",children:[e.jsxs(n,{sx:{pt:4,pb:3},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1.5,mb:1},children:[e.jsx(_,{sx:{fontSize:{xs:"28px",md:"34px"},color:r.main}}),e.jsx(c,{variant:"h3",sx:{fontFamily:"Outfit, sans-serif",fontWeight:700,color:r.main,fontSize:{xs:"28px",md:"34px"}},children:"Recipe Ideas"})]}),e.jsx(c,{variant:"body1",sx:{fontFamily:"Outfit, sans-serif",fontWeight:400,color:S.main},children:"Turn your groceries into delicious meals"})]}),y.length===0?e.jsxs(z,{sx:{bgcolor:d.bg,borderRadius:"16px",border:`2px solid ${d.main}`,boxShadow:`3px 3px 0px ${d.light}`,p:5,textAlign:"center"},children:[e.jsx(fe,{sx:{fontSize:"56px",mb:2,color:S.main}}),e.jsx(c,{variant:"h5",sx:{fontFamily:"Outfit, sans-serif",fontWeight:600,color:S.main,mb:1,fontSize:"20px"},children:"No Receipts Yet"}),e.jsx(c,{variant:"body1",sx:{fontFamily:"Outfit, sans-serif",fontWeight:400,color:S.dark},children:"Upload some receipts to get recipe suggestions based on your groceries!"})]}):e.jsxs(n,{children:[e.jsxs(b,{container:!0,spacing:2,sx:{mb:3},children:[y.length>0&&e.jsx(b,{item:!0,xs:12,md:6,children:e.jsxs(z,{sx:{bgcolor:u.bg,borderRadius:"12px",border:`2px solid ${u.main}`,boxShadow:`3px 3px 0px ${u.light}`,p:2,height:"100%"},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1,mb:1.5},children:[e.jsx(fe,{sx:{color:u.dark,fontSize:"20px"}}),e.jsx(c,{variant:"h6",sx:{fontFamily:"Outfit, sans-serif",fontWeight:600,color:u.dark,fontSize:"16px"},children:"Quick Select from Receipts"})]}),e.jsx(n,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:y.map(s=>e.jsxs(I,{variant:A(s.id)?"contained":"outlined",size:"small",onClick:()=>je(s.id),sx:{fontFamily:"Outfit, sans-serif",fontSize:"12px",textTransform:"none",borderColor:u.main,color:A(s.id)?p:u.dark,bgcolor:A(s.id)?u.main:"transparent","&:hover":{bgcolor:A(s.id)?u.dark:u.bg,borderColor:u.dark}},children:[s.storeInfo?.name||"Unknown Store"," (",s.items?.length||0," items) -"," ",s.createdAt?.toDate()?new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(s.createdAt.toDate()):"Unknown date"]},s.id))})]})}),e.jsx(b,{item:!0,xs:12,md:y.length>0?6:12,children:e.jsx(z,{sx:{bgcolor:l.bg,borderRadius:"12px",border:`2px solid ${l.main}`,boxShadow:`3px 3px 0px ${l.light}`,height:"100%"},children:e.jsxs(H,{sx:{p:2.5},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1,mb:1.5},children:[e.jsx(Ge,{sx:{color:l.dark,fontSize:"20px"}}),e.jsx(c,{variant:"h6",sx:{fontFamily:"Outfit, sans-serif",fontWeight:600,color:l.dark,fontSize:"16px"},children:"Paste Recipe"})]}),e.jsx(c,{variant:"body2",sx:{fontFamily:"Outfit, sans-serif",color:l.dark,mb:1.5,fontSize:"13px"},children:"Paste a recipe URL or text from any website"}),e.jsx(ce,{fullWidth:!0,multiline:!0,rows:3,placeholder:"Paste recipe URL (e.g., allrecipes.com) or recipe text...",value:T,onChange:s=>Y(s.target.value),disabled:D,sx:{mb:1.5,"& .MuiOutlinedInput-root":{fontFamily:"Outfit, sans-serif",fontSize:"13px",bgcolor:p,"& fieldset":{borderColor:l.light},"&:hover fieldset":{borderColor:l.main},"&.Mui-focused fieldset":{borderColor:l.main}}}}),e.jsx(I,{variant:"contained",fullWidth:!0,startIcon:e.jsx(_,{}),onClick:we,disabled:!T.trim()||D,sx:{bgcolor:l.main,color:p,fontFamily:"Outfit, sans-serif",fontWeight:600,fontSize:"13px",textTransform:"none",border:`2px solid ${l.dark}`,boxShadow:`2px 2px 0px ${l.dark}`,py:1.25,"&:hover":{bgcolor:l.dark},"&:disabled":{bgcolor:l.light,color:p}},children:D?"Extracting...":"Extract Recipe"})]})})})]}),e.jsx(b,{container:!0,spacing:2,sx:{mb:3},children:e.jsx(b,{item:!0,xs:12,children:e.jsx(z,{sx:{bgcolor:r.bg,borderRadius:"12px",border:`2px solid ${r.main}`,boxShadow:`3px 3px 0px ${r.light}`,height:"100%"},children:e.jsxs(H,{sx:{p:2.5},children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1.5},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(q,{sx:{color:r.dark,fontSize:"20px"}}),e.jsxs(c,{variant:"h6",sx:{fontFamily:"Outfit, sans-serif",fontWeight:600,color:r.dark,fontSize:"16px"},children:["Available Ingredients (",v.length,")"]})]}),e.jsx(I,{size:"small",onClick:Se,sx:{fontFamily:"Outfit, sans-serif",fontSize:"11px",textTransform:"none",color:r.dark,minWidth:"auto",px:1},children:h.length===v.length?"Deselect All":"Select All"})]}),e.jsx(ce,{size:"small",placeholder:"Search ingredients...",value:se,onChange:s=>be(s.target.value),InputProps:{startAdornment:e.jsx(Ne,{position:"start",children:e.jsx(We,{sx:{color:r.main,fontSize:18}})})},sx:{mb:1.5,width:"100%","& .MuiOutlinedInput-root":{fontFamily:"Outfit, sans-serif",fontSize:"13px",bgcolor:p,borderRadius:"8px","& fieldset":{borderColor:r.light},"&:hover fieldset":{borderColor:r.main},"&.Mui-focused fieldset":{borderColor:r.main}},"& .MuiInputBase-input::placeholder":{color:P.main,opacity:1}}}),e.jsx(n,{sx:{maxHeight:"300px",overflowY:"auto",pr:1},children:v.length===0?e.jsx(c,{sx:{fontFamily:"Outfit, sans-serif",color:r.dark,fontSize:"13px",fontStyle:"italic",textAlign:"center",py:2},children:"No ingredients available. Upload receipts or add pantry items."}):e.jsx(n,{sx:{display:"flex",flexWrap:"wrap",gap:.75},children:v.filter(s=>s.toLowerCase().includes(se.toLowerCase())).map((s,t)=>e.jsx(de,{label:s,onClick:()=>ye(s),sx:{bgcolor:h.includes(s)?r.main:r.bg,color:h.includes(s)?p:r.dark,border:`1px solid ${r.main}`,fontFamily:"Outfit, sans-serif",fontSize:"12px",fontWeight:h.includes(s)?600:400,cursor:"pointer","&:hover":{bgcolor:h.includes(s)?r.dark:r.light}}},t))})}),e.jsx(n,{sx:{mt:2},children:e.jsx(I,{variant:"contained",fullWidth:!0,startIcon:N?e.jsx(ae,{size:20,sx:{color:p}}):e.jsx(_,{}),onClick:Ie,disabled:N||h.length===0,sx:{bgcolor:r.main,color:p,fontFamily:"Outfit, sans-serif",fontWeight:600,fontSize:"14px",py:1.25,textTransform:"none",border:`2px solid ${r.dark}`,boxShadow:`2px 2px 0px ${r.dark}`,"&:hover":{bgcolor:r.dark},"&:disabled":{bgcolor:r.light,color:p}},children:N?"Generating Recipes...":"Generate Recipe Ideas"})})]})})})}),f&&e.jsx(z,{sx:{bgcolor:p,borderRadius:"12px",border:`2px solid ${l.main}`,boxShadow:`3px 3px 0px ${l.light}`,mb:3},children:e.jsxs(H,{sx:{p:2.5},children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"start",mb:2},children:[e.jsxs(n,{children:[e.jsx(c,{variant:"h6",sx:{fontFamily:"Outfit, sans-serif",fontWeight:700,color:l.dark,fontSize:"18px",mb:.5},children:f.name}),e.jsx(c,{variant:"body2",sx:{fontFamily:"Outfit, sans-serif",color:P.main,fontSize:"13px"},children:f.description})]}),e.jsx(Ae,{size:"small",onClick:()=>{V(null),Y(""),W([])},children:e.jsx(Be,{})})]}),e.jsxs(b,{container:!0,spacing:2,children:[f.matchedIngredients&&f.matchedIngredients.length>0&&e.jsx(b,{item:!0,xs:12,sm:6,children:e.jsxs(n,{sx:{bgcolor:r.bg,borderRadius:"8px",border:`1px solid ${r.light}`,p:1.5},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:.5,mb:.75},children:[e.jsx(pe,{sx:{fontSize:14,color:r.dark}}),e.jsxs(c,{variant:"caption",sx:{fontFamily:"Outfit, sans-serif",color:r.dark,fontWeight:700,fontSize:"11px",textTransform:"uppercase"},children:["You Have (",f.matchedIngredients.length,")"]})]}),e.jsx(n,{component:"ul",sx:{m:0,pl:2.5,listStyle:"disc"},children:f.matchedIngredients.map((s,t)=>e.jsx(c,{component:"li",variant:"caption",sx:{fontFamily:"Outfit, sans-serif",color:r.dark,fontSize:"12px",lineHeight:1.6},children:s},t))})]})}),f.missingIngredients&&f.missingIngredients.length>0&&e.jsx(b,{item:!0,xs:12,sm:6,children:e.jsxs(n,{sx:{bgcolor:d.bg,borderRadius:"8px",border:`1px solid ${d.light}`,p:1.5},children:[e.jsxs(c,{variant:"caption",sx:{fontFamily:"Outfit, sans-serif",color:S.dark,fontWeight:700,fontSize:"11px",textTransform:"uppercase",display:"block",mb:.75},children:["You'll Need (",f.missingIngredients.length,")"]}),e.jsx(n,{sx:{mb:1},children:re(f.missingIngredients).map((s,t)=>e.jsx(xe,{control:e.jsx(me,{size:"small",checked:L.includes(s),onChange:()=>ze(s),sx:{color:d.main,"&.Mui-checked":{color:d.main},py:.25}}),label:e.jsx(c,{variant:"caption",sx:{fontFamily:"Outfit, sans-serif",color:S.dark,fontSize:"12px"},children:s}),sx:{display:"flex",my:0}},t))})]})})]}),e.jsxs(n,{sx:{display:"flex",gap:1.5,mt:2},children:[e.jsx(I,{variant:"contained",fullWidth:!0,startIcon:e.jsx(q,{}),onClick:Ce,disabled:L.length===0,sx:{bgcolor:d.main,color:p,fontFamily:"Outfit, sans-serif",fontWeight:600,fontSize:"13px",textTransform:"none",py:1,"&:hover":{bgcolor:d.dark},"&:disabled":{bgcolor:d.light,color:p}},children:"Add to Shopping List & Save"}),e.jsx(I,{variant:"outlined",startIcon:e.jsx(Ve,{}),onClick:ne,sx:{fontFamily:"Outfit, sans-serif",fontWeight:600,fontSize:"13px",textTransform:"none",color:l.main,borderColor:l.main,border:`2px solid ${l.main}`,"&:hover":{bgcolor:l.bg,borderColor:l.dark,border:`2px solid ${l.dark}`}},children:"Save Only"})]})]})}),e.jsx(b,{container:!0,spacing:3,children:e.jsx(b,{item:!0,xs:12,children:X.length>0&&e.jsx(n,{sx:{display:"flex",flexDirection:"column",gap:2.5},children:X.map((s,t)=>e.jsx(z,{sx:{bgcolor:p,borderRadius:"12px",border:`2px solid ${le.border}`,boxShadow:`3px 3px 0px ${le.border}`},children:e.jsxs(H,{sx:{p:3},children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:1.5},children:[e.jsx(c,{variant:"h6",sx:{fontFamily:"Outfit, sans-serif",fontWeight:700,color:r.main,fontSize:{xs:"16px",sm:"18px"},flex:1,pr:1},children:s.name}),e.jsx(de,{label:s.difficulty,size:"small",sx:{bgcolor:Re[s.difficulty]||r.main,color:"white",fontFamily:"Outfit, sans-serif",fontWeight:600,fontSize:"11px",flexShrink:0}})]}),e.jsx(c,{variant:"body2",sx:{fontFamily:"Outfit, sans-serif",color:Pe.dark,mb:2,lineHeight:1.5,fontSize:{xs:"13px",sm:"14px"}},children:s.description}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:.5,mb:2.5},children:[e.jsx(Ye,{sx:{fontSize:16,color:P.main}}),e.jsxs(c,{variant:"caption",sx:{fontFamily:"Outfit, sans-serif",color:P.main,fontSize:"12px"},children:[s.cookingTime," min"]})]}),e.jsxs(n,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:2,mb:2.5},children:[s.matchedIngredients&&s.matchedIngredients.length>0&&e.jsxs(n,{sx:{flex:1,bgcolor:r.bg,borderRadius:"8px",border:`1px solid ${r.light}`,p:1.5},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:.5,mb:.75},children:[e.jsx(pe,{sx:{fontSize:14,color:r.dark}}),e.jsxs(c,{variant:"caption",sx:{fontFamily:"Outfit, sans-serif",color:r.dark,fontWeight:700,fontSize:"11px",textTransform:"uppercase",letterSpacing:"0.5px"},children:["You Have (",s.matchedIngredients.length,")"]})]}),e.jsx(n,{component:"ul",sx:{m:0,pl:2.5,listStyle:"disc"},children:s.matchedIngredients.map((i,a)=>e.jsx(c,{component:"li",variant:"caption",sx:{fontFamily:"Outfit, sans-serif",color:r.dark,fontSize:"12px",lineHeight:1.6},children:i},a))})]}),s.missingIngredients&&s.missingIngredients.length>0&&e.jsxs(n,{sx:{flex:1,bgcolor:d.bg,borderRadius:"8px",border:`1px solid ${d.light}`,p:1.5},children:[e.jsxs(c,{variant:"caption",sx:{fontFamily:"Outfit, sans-serif",color:S.dark,fontWeight:700,fontSize:"11px",textTransform:"uppercase",letterSpacing:"0.5px",display:"block",mb:.75},children:["You'll Need (",s.missingIngredients.length,")"]}),e.jsx(n,{sx:{mb:1},children:re(s.missingIngredients).map((i,a)=>e.jsx(xe,{control:e.jsx(me,{size:"small",checked:(B[`recipe-${t}`]||[]).includes(i),onChange:()=>ve(t,i),sx:{color:d.main,"&.Mui-checked":{color:d.main},py:.25}}),label:e.jsx(c,{variant:"caption",sx:{fontFamily:"Outfit, sans-serif",color:S.dark,fontSize:"12px"},children:i}),sx:{display:"flex",my:0}},a))}),e.jsx(I,{size:"small",variant:"contained",fullWidth:!0,startIcon:e.jsx(q,{}),onClick:()=>ke(t,s.name),disabled:(B[`recipe-${t}`]||[]).length===0,sx:{bgcolor:d.main,color:p,fontFamily:"Outfit, sans-serif",fontWeight:600,fontSize:"11px",textTransform:"none",py:.75,"&:hover":{bgcolor:d.dark},"&:disabled":{bgcolor:d.light,color:p}},children:"Add to Shopping List"})]})]}),e.jsx(I,{variant:"outlined",fullWidth:!0,startIcon:e.jsx(De,{}),href:`https://www.google.com/search?q=${encodeURIComponent(s.name+" recipe")}`,target:"_blank",rel:"noopener noreferrer",sx:{fontFamily:"Outfit, sans-serif",fontWeight:600,fontSize:"13px",textTransform:"none",color:r.main,borderColor:r.main,border:`2px solid ${r.main}`,py:1,"&:hover":{bgcolor:r.bg,borderColor:r.dark,border:`2px solid ${r.dark}`}},children:"View Full Recipe"})]})},t))})})})]}),e.jsx(Me,{open:O.open,autoHideDuration:6e3,onClose:()=>x({...O,open:!1}),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:e.jsx(He,{onClose:()=>x({...O,open:!1}),severity:O.severity,sx:{width:"100%"},children:O.message})})]})})}export{cs as default};
